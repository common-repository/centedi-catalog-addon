var STATUS_SUCCESS=1,STATUS_ACTIVE=100,STATUS_EXPIRED=101,STATUS_BLOCKED=102,STATUS_EXISTS=103,STATUS_DATA_ERR=1e4,STATUS_SYS_ERR=10001,STATUS_NO_SUBSCRIPTION=10002,STATUS_NOT_EXISTS=10003,STATUS_WRONGPASS=10004,STATUS_WEAKPASS=10005,STATUS_ORG_USER_MISMATCH=10006,STATUS_ORG_SOURCE_MISMATCH=10007,SHOW_FILTER_BUTTON_VISIBLE_ROWS=15;const{__:__}=wp.i18n;jQuery(document).ready((function(e){if(e.fn.ITEM_FOR_UPDATE=[],e.fn.ITEM_UPDATED=[],e.fn.SKU_UPDATE_SKIP_EXISTING=!1,e('[data-toggle="tooltip"]').css("cursor","help"),e('[data-toggle="tooltip"]').css("border-bottom","1px dashed rgb(153, 153, 153)"),e.fn.exists=function(){return this.length>0},e("#wpwrap").append("<div id='modal_content_placeholder'></div>"),e("#wpwrap").append("<div id='progress_content_placeholder'></div>"),e("#wpwrap").append("<div id='progress_content_modal_placeholder'></div>"),e("#cedi-select").exists()&&e("#cedi-select").niceSelect(),e("form.variations_form").on("show_variation",(function(t,i){"undefined"!=typeof CEDI_HIDDEN_OPTS&&(e("#cedi_hidden_opts").text(CEDI_HIDDEN_OPTS[i.sku].join(", ")),e(".variations tr").each((function(){""==e(this).text().trim()&&e(this).remove()})))})),e("form.variations_form").on("hide_variation",(function(t,i){e("#cedi_hidden_opts").text("")})),e.fn.centerImage=function(t,i=!1,a=!1,n){n=n||function(){};var o=this,s=e(this).length;t="inside"==t;var r=function(e){s--,n.apply(o,[e,s])};return o.each((function(n){var o;e(o=this).is(":visible")&&setTimeout((function(){!function(n){var o=e(n);if(!o.hasClass("cedi-img-centered")){var s=o.parents("div").first();if(s.css({overflow:"hidden",position:"absolute"==s.css("position")?"absolute":"relative"}),o.css({position:"static",width:"auto",height:"auto","max-width":"98%","max-height":"100%"}),i){var l={w:s.width(),h:s.height(),r:s.width()/s.height()};n={w:o.width(),h:o.height(),r:o.width()/o.height()},o.css({"max-width":"none","max-height":"none",width:Math.round(l.r>n.r^t?"100%":l.h/n.h*n.w),height:Math.round(l.r<n.r^t?"100%":l.w/n.w*n.h)})}l={w:s.width(),h:s.height()},n={w:o.width(),h:o.height()},o.css({position:"absolute",left:0==a?Math.round((l.w-n.w)/2):0,top:Math.round((l.h-n.h)/2)}),o.addClass("cedi-img-centered"),r(n)}}(o)}),1)}))},e.fn.imageCenterResize=function(t){return e(this).centerImage("inside",t)},e.fn.imageCropFill=function(t){return e(this).centerImage("outside",t)},e.fn.center=function(){return this.css("position","absolute"),this.css("top",(e(window).height()-this.height())/2+"px"),this.css("left",(e(window).width()-this.width())/2+"px"),this},e.fn.showInfoWindow=function(t,i,a){var n={title:__(t),closeOnEscape:!0,modal:!0,dialogClass:"cedi-dlg",close:function(){e(this).remove()},buttons:[{text:__("OK"),class:"",click:function(){e(this).dialog("close")}}]},o="<ul class='message-system-list'><li class='message message-"+(!0===a?"warning":"success")+"'><b>"+__(i)+"</b></li></ul>";e("#modal_content_placeholder").append("<div id='alert_content'>"+o+"</div>"),e("#alert_content").dialog(n)},e.fn.showErrorStatusMsg=function(t){t!==STATUS_EXPIRED?t!==STATUS_BLOCKED?t!==STATUS_NO_SUBSCRIPTION?t!==STATUS_DATA_ERR?t!==STATUS_SYS_ERR?e.fn.showInfoWindow("Error","Unknown error: "+t,!0):e.fn.showInfoWindow("Error","System error",!0):e.fn.showInfoWindow("Error","Invalid request data, please check your configuration",!0):e.fn.showInfoWindow("Error","Subscription is expired or blocked",!0):e.fn.showInfoWindow("Error","Subscription is blocked",!0):e.fn.showInfoWindow("Error","Subscription is expired",!0)},e.fn.processRequestStatus=function(e,t){var i="Connection error.";return 0===e.status?(alert(e.status),i="No connection."):404==e.status?i="URL not found.":500==e.status?i="Internal server error.":"parsererror"===t?i="JSON parse failed.":"timeout"===t?i="Timed out.":"abort"===t&&(i="Aborted."),i},e("#cedi_registration_form").exists()){e(".submit:last").remove();e("#cedi_registration_form");e.passFormHtml=e("#pass_twice_form_container").html(),e("#pass_twice_form_container").remove(),e("#country").countrySelector({value:e("#country").attr("initvalue"),codeMode:"alpha2"});setInterval((function(){e(".code").each((function(){var t=e(this);if(!t[0].hasAttribute("disabled"))if("email"==t.attr("id")&&""!=t.val()){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t.val())?t.removeClass("invalid"):t.addClass("invalid")}else""!=t.val()?t.removeClass("invalid"):t.addClass("invalid")}))}),100),setInterval((function(){e.isFormValid=!0,e(".code").each((function(){var t=e(this);(""==t.val()||t.hasClass("invalid"))&&(e.isFormValid=!1)})),e("#btn_request").prop("disabled",!e.isFormValid)}),150);e("#btn_request").click((function(){e.fn.onRegisterBtnClicked()})),e.fn.setFormBlocked=function(t,i){e("#btn_request").prop("disabled",t),!0===t&&(e("#btn_request").addClass("disabled"),!0===i&&(e("#org").prop("disabled",i).removeClass("valid"),e("#email").prop("disabled",i).removeClass("valid"),e("#country").prop("disabled",i))),!1===t&&(e("#btn_request").removeClass("disabled"),e("#org").prop("disabled",t),e("#email").prop("disabled",t),e("#country").prop("disabled",t))},e.fn.checkAuthStatus=function(){e("#cedi_registration_form").loadingView({state:!0}),e.ajax({dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"getRegistrationStatus"}),success:function(t){e("#cedi_registration_form").loadingView({state:!1}),e.fn.onAuthDataReceived(t)},error:function(t,i){e("#cedi_registration_form").loadingView({state:!1});var a=e.fn.processRequestStatus(t,i);return e.fn.showInfoWindow("Error",a,!0),STATUS_SYS_ERR}})},e.fn.onRegisterBtnClicked=function(){if(!e.isFormValid)return!1;var t=e("#org").val(),i=e("#email").val();e.ajax({dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"checkRegistrationData",org:t,email:i}),success:function(t){e.fn.onAuthDataReceived(t)},error:function(t,i){var a=e.fn.processRequestStatus(t,i);e.fn.showInfoWindow("Error",a,!0)}})},e.fn.onAuthDataReceived=function(t){t&&"undefined"!=t.status?(t.status===STATUS_NOT_EXISTS&&e.fn.showPassWindow(!1,t),t.status===STATUS_ORG_USER_MISMATCH&&e.fn.showInfoWindow("Error","You have no permissions in that company.",!0),t.status===STATUS_EXISTS&&e.fn.showPassWindow(!0,t,!0),t.status===STATUS_ACTIVE&&(e("#auth_form_container").prop("hidden",!1),e.fn.setFormBlocked(!0,!0),e("#status_container").html('<div class="cedi-row-status-success">'+__("Registered")+"</div>")),t.status===STATUS_EXPIRED&&(e("#auth_form_container").prop("hidden",!1),e.fn.setFormBlocked(!0,!0),e.fn.showInfoWindow("Error","Subscription is expired",!0),e("#status_container").html('<div class="cedi-row-status-error">'+__("Your subscription is expired. Please contact CentEDI administration.")+"</div>")),t.status===STATUS_BLOCKED&&(e("#auth_form_container").prop("hidden",!1),e.fn.setFormBlocked(!0,!0),e.fn.showInfoWindow("Error","Subscription is blocked",!0),e("#status_container").html('<div class="cedi-row-status-error">'+__("Your subscription is blocked. Please contact CentEDI administration.")+"</div>")),t.status===STATUS_NO_SUBSCRIPTION&&(e("#auth_form_container").prop("hidden",!1),e.fn.setFormBlocked(!0,!0),e.fn.showInfoWindow("Error","Subscription is expired or blocked",!0),e("#status_container").html('<div class="cedi-row-status-error">'+__("Your subscription is expired or blocked. Please contact CentEDI administration.")+"</div>")),t.status===STATUS_WRONGPASS&&(e("#auth_form_container").prop("hidden",!1),e.fn.setFormBlocked(!1,!1),e.fn.showInfoWindow("Error","Your have entered a wrong password. Please try again.",!0)),t.status===STATUS_WEAKPASS&&(e("#auth_form_container").prop("hidden",!1),e.fn.setFormBlocked(!1,!1),e.fn.showInfoWindow("Error","Your have entered a weak password. Please try again.",!0)),t.status===STATUS_DATA_ERR&&(e("#auth_form_container").prop("hidden",!1),e.fn.setFormBlocked(!1,!1),e.fn.showInfoWindow("Error","You have an error in your data, please check fields!",!0)),t.status===STATUS_SYS_ERR&&e.fn.showInfoWindow("Error","Unknown error",!0)):(e.fn.setFormBlocked(!0,!0),e.fn.showInfoWindow("Error","Unknown error",!0))},e.fn.showPassWindow=function(t,i,a){a=a||!1;var n,o={title:"",dialogClass:"wp-dialog",autoOpen:!1,draggable:!1,width:"auto",modal:!0,resizable:!1,closeOnEscape:!0,position:{my:"center",at:"center",of:window},open:function(){e("#cedi_pwd_submit").prop("disabled",!0),n=setInterval((function(){var i=e("#pass_first").val(),a=e("#pass_sec").val(),n=0;i.length<6?(e("#pwdstatus").removeClass().addClass("pwd-short").html("Password must be at least 6 characters long & contain lowercase, uppercase letters, at least one special character & at least one digit"),e("#cedi_pwd_submit").prop("disabled",!0)):(i.length>5&&n++,i.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&n++,i.match(/([a-zA-Z])/)&&i.match(/([0-9])/)&&n++,i.match(/([!,%,&,@,#,$,^,*,?,_,~])/)&&n++,i.match(/(.*[!,%,&,@,#,$,^,*,?,_,~].*[!,%,&,@,#,$,^,*,?,_,~])/)&&n++,n<4?(e("#pwdstatus").removeClass().addClass("pwd-short").html("Password must be at least 6 characters long & contain lowercase, uppercase letters, at least one special character & at least one digit"),e("#cedi_pwd_submit").prop("disabled",!0)):(e("#pwdstatus").removeClass().addClass("pwd-strong").html("Your password is strong enough"),e("#cedi_pwd_submit").prop("disabled",!1))),0==t&&(a!=i?(e("#pwdsecstatus").removeClass().addClass("pwd-short").html("Passwords should match"),e("#cedi_pwd_submit").prop("disabled",!0)):(e("#pwdsecstatus").removeClass().html(""),e("#cedi_pwd_submit").prop("disabled",!1)),a!=i?(e("#pwdsecstatus").removeClass().addClass("pwd-short").html("Passwords should match"),e("#cedi_pwd_submit").prop("disabled",!0)):(e("#pwdsecstatus").removeClass().html(""),e("#cedi_pwd_submit").prop("disabled",!1)))}),100)},close:function(){e(this).remove(),clearInterval(n)},buttons:[{id:"cedi_pwd_submit",text:__("Submit"),class:"",click:function(){e.fn.onPassKeyClicked(this,i,a)}},{text:__("Cancel"),class:"",click:function(){e(this).dialog("close")}}]};e("#modal_content_placeholder").append("<div id='modal_content' style='overflow:hidden;'>"+e.passFormHtml+"</div>"),!0===t&&(e("#psc").remove(),e("#auth_msg").text(__("Please input your password to login to CentEDI portal:"))),0==t&&e("#auth_msg").text(__("Please input your password to register on CentEDI portal:")),e("#modal_content").dialog(o).dialog("open")},e.fn.onPassKeyClicked=function(t,i,a){var n=e("#org").val(),o=e("#email").val(),s=e("#pass_first").val(),r=e("#pass_sec").val();if(e("#pass_sec").exists()){if(""==s)return void e.fn.showInfoWindow("Error","Password should not be empty",!0);if(s!==r)return void e.fn.showInfoWindow("Error","Password fields should be equal",!0)}var l=1==(a=a||!1)?s:r;e.ajax({dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"registerOnPortal",org:n,email:o,pass:l}),success:function(i){i.status==STATUS_SUCCESS?(i.org=e("#org").val(),i.email=e("#email").val(),e.fn.onRegKeysReceived(i),e(t).dialog("close")):e.fn.onAuthDataReceived(i)},error:function(t,i){var a=e.fn.processRequestStatus(t,i);e.fn.showInfoWindow("Error",a,!0)}})},e.fn.onRegKeysReceived=function(t){"object"==typeof t?Object.keys(t).length>1&&e.ajax({showLoader:!0,dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"saveAuthData",auth_data:t}),success:function(t){"undefined"!=t.status&&"OK"==t.status&&(e.fn.showInfoWindow("Success",t.msg),e.fn.setFormBlocked(!0,!0),e("#status_container").html('<div class="cedi-row-status-success">'+__("Registered")+"</div>"))},error:function(t,i){var a=e.fn.processRequestStatus(t,i);e.fn.showInfoWindow("Error",a,!0)}}):e.fn.showInfoWindow("Error","Unknown error",!0)},e.fn.preLoadData=function(){e.ajax({dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"getAuthData"}),success:function(t){t.data.authdata&&t.data.authdata.org&&t.data.authdata.email?(e("#org").val(t.data.authdata.org),e("#email").val(t.data.authdata.email),e.fn.checkAuthStatus()):e.fn.cfgForm({status:STATUS_NO_SUBSCRIPTION})},error:function(t,i){var a=e.fn.processRequestStatus(t,i);e.fn.showInfoWindow("Error",a,!0)}})},e.fn.cfgForm=function(t){t.status===STATUS_ACTIVE&&e.fn.setFormBlocked(!0),t.status===STATUS_EXPIRED&&(e.fn.setFormBlocked(!1),e.fn.showInfoWindow("Error","Subscription is expired.",!0)),t.status===STATUS_BLOCKED&&(e.fn.setFormBlocked(!0,!0),e.fn.showInfoWindow("Error","Subscription is blocked.",!0)),t.status===STATUS_NO_SUBSCRIPTION&&e.fn.setFormBlocked(!1),t.status<0&&t.status!==STATUS_NO_SUBSCRIPTION&&(e.fn.setFormBlocked(!1),e.fn.showInfoWindow("Error","Unknown error. Please contact CentEDI administration.",!0)),e("#auth_form_container").prop("hidden",!1)},e.fn.preLoadData()}if(e("#cedi-select").exists()&&(e.storeLang="en_US",e.storeCountry="US",e.storeOrg="",e.storeEmail="",e.storeWeightUnitType="m",e.storeDimUnitType="m",e("#cedi-select").on("change",(function(t,i){"ignore"!=e(i).data("value")&&("import"==e(i).data("value")&&(e(".nice-select").removeClass("open"),e.ajax({dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"getAuthData"}),success:function(t){t.data&&(e.storeOrg=t.data.authdata.org,e.storeEmail=t.data.authdata.email,e.fn.showProductDialog())},error:function(t,i){var a=e.fn.processRequestStatus(t,i);e.fn.showInfoWindow("Error",a,!0)}})),"import_bulk"==e(i).data("value")&&(e(".nice-select").removeClass("open"),e.fn.showBulkImportDialog()),"update"==e(i).data("value")&&(e(".nice-select").removeClass("open"),e.fn.checkUpdates()))})),e.fn.checkUpdates=function(){e(".wp-admin").loadingView({state:!0}),e.ajax({showLoader:!0,dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"getUpdatedProducts"}),success:function(t){switch(e(".wp-admin").loadingView({state:!1}),t.status){case"OK":var i=t.data.proddata;if(Object.keys(i).length>0){const t=Object.entries(i).sort((([,e],[,t])=>e.localeCompare(t)));e.fn.showUpdateProductsPopup(t)}else e.fn.showInfoWindow("Success",__("No updates found!"),!0);break;case"FAILED":e.fn.showInfoWindow("Error",t.msg,!0);break;default:e.fn.showErrorStatusMsg(t.status)}}})},e.fn.showProductDialog=function(){e("#sku_selector").exists()&&e("#sku_selector").remove(),e("#modal_content_placeholder").append("<div id='modal_content' style='overflow:hidden;'><input style='width:400px;' type='text' id='sku_selector'/></div>");var t={dialogClass:"wp-dialog cedi-dlg",resizable:!1,responsive:!0,width:"auto",modal:!0,closeOnEscape:!0,title:__("Import product"),buttons:[{text:__("Close"),class:"",click:function(){e(this).dialog("close")}}],close:function(){e(this).remove()},position:{my:"center",at:"center",of:window}};e("#modal_content").dialog(t),e("#sku_selector").autocomplete({source:function(t,i){e.ajax({showLoader:!0,dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"searchProducts",str:t.term}),success:function(a){if(e("#sku_selector").removeClass("ui-autocomplete-loading"),a&&a.hasOwnProperty("status"))return e.fn.showErrorStatusMsg(a.status),!1;a?i(e.map(a.result,(function(e){return{ID:e.ID,PARENT_ID:e.PARENT_ID,BRAND:e.BRAND,BRAND_IMAGE_VERSIONS:e.BRAND_IMAGE_VERSIONS,MODEL:e.MODEL,SKU:e.SKU,TITLE:e.TITLE,CODE:e.CODE,GROUP_NAME:e.GROUP_NAME,GROUP_IMAGE_VERSIONS:e.GROUP_IMAGE_VERSIONS,SHORT_DESCRIPTION:e.SHORT_DESCRIPTION,DETAILED_DESCRIPTION:e.DETAILED_DESCRIPTION,IMAGE_VERSIONS:e.IMAGE_VERSIONS,PARENT_IMAGE_VERSIONS:e.PARENT_IMAGE_VERSIONS,DOCS:e.DOCS,SKU_VALUES_STRING:e.SKU_VALUES_STRING,KEY_PROPS_DESCRIPTION:e.KEY_PROPS_DESCRIPTION,SIMPLE:0}}))):e.fn.showNotFoundWindow(t.term)}})},select:function(t,i){return e.SELECTED_ITEM=i.item,e.fn.importSelectedItem(),!1},focus:function(t,i){e(".ui-autocomplete > li").attr("title",e.fn.getSearchItemHTML(i.item,1))},delay:1500,minLength:2}).autocomplete("instance")._renderItem=function(t,i){return e("<li class='ui-menu-item cedi-ac-item'></li>").data("item.autocomplete",i).append(e.fn.getSearchItemHTML(i)).appendTo(t)},e.fn.getSearchItemHTML=function(e,t=!1){var i=void 0!==e.SKU_VALUES_STRING?", "+e.SKU_VALUES_STRING:", "+e.KEY_PROPS_DESCRIPTION,a="<a style='text-decoration:none;display:block;'><b>"+e.TITLE+" ["+e.MODEL+"]</b><br>"+e.SHORT_DESCRIPTION+"<br>"+e.GROUP_NAME+i+"</a>";return t&&(a=e.GROUP_NAME+i),a}},e.fn.importSelectedItem=function(){e("#modal_content").loadingView({state:!0}),e.ajax({showLoader:!0,dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"importSelectedProduct",itemId:e.SELECTED_ITEM.ID,search_data:e.SELECTED_ITEM}),success:function(t){e("#modal_content").loadingView({state:!1}),e.fn.showInfoWindow("Success",t.msg,!0)},error:function(t,i){e("#modal_content").loadingView({state:!1});var a=e.fn.processRequestStatus(t,i);e.fn.showInfoWindow("Error",a,!0)}})},e.fn.showNotFoundWindow=function(t){var i={title:__("Product not found"),closeOnEscape:!0,modal:!0,dialogClass:"cedi-dlg",close:function(){e(this).remove()},buttons:[{text:__("Submit"),class:"",click:function(){var i="";i=e("#notfound_notify_check").is(":checked")?t:"",e.fn.onSubmitNotFoundKeyClicked(this,i)}},{text:__("Cancel"),class:"",click:function(){e(this).dialog("close")}}]};e.Modal?(e("#nf_modal_content_placeholder").remove(),e.Modal.dialog(i),e("#nf_input").val("")):(e.nfFormHtml=e("#notfound_form_container").html(),e("fieldset[id=notfound_form_container]").remove(),e("#wpwrap").append("<div id='nf_modal_content_placeholder'></div>"),e("#modal_content_placeholder").append("<div id='nf_alert_content'>"+e.nfFormHtml+"</div>"),e.Modal=e("#nf_alert_content").dialog(i))},e.fn.onSubmitNotFoundKeyClicked=function(t,i){var a=e("#nf_input").val();e.ajax({showLoader:!0,dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"notFoundProc",brand:a,product:i,email:e.storeEmail}),success:function(i){i&&1==i.status?(e(t).dialog("close"),e.fn.showInfoWindow("Success","You will be informed when product is ready for import",!1)):e.fn.showInfoWindow("Error","System error",!0)},error:function(t,i){var a=e.fn.processRequestStatus(t,i);e.fn.showInfoWindow("Error",a,!0)}})},e.fn.showProgress=function(){e.progressbar.progressbar({value:!1,change:function(){e.progressLabel.text(e.progressbar.progressbar("value")+"%")},complete:function(){e.fn.hideProgress()}}),e("#progress_content").removeAttr("hidden"),e("#progress_content_modal_placeholder").dialog({autoOpen:!1,modal:!0,resizable:!1}),e("#progress_content_modal_placeholder").parents(".ui-dialog").css("border","0 none").css("box-shadow","0 0").css("background","transparent").css("border-bottom-right-radius","0").css("border-bottom-left-radius","0").css("border-top-right-radius","0").css("border-top-left-radius","0").find(".ui-dialog-titlebar").remove(),e("#progress_content_modal_placeholder").parents(".ui-dialog").find(".ui-dialog.ui-resizable-disabled .ui-resizable-handle").css("display","none"),e("#progress_content_modal_placeholder").append("<div id='cedi_progress_dlg' class='cedi-progress-dlg'></div>"),e("#progress_content_modal_placeholder").append("<span id='cedi_progress_dlg_status' class='cedi-progress-status'></span>"),e("#progress_content").appendTo("#cedi_progress_dlg"),e("#progress_content_modal_placeholder").dialog("open")},e.fn.hideProgress=function(){e("#progress_content_modal_placeholder").dialog("close"),window.location.reload(!0)},e.fn.showBulkImportDialog=function(){e("#modal_content_placeholder").append("<div id='modal_content' style='overflow:hidden;'><div style='width:400px;' id='cedi_file_upload_ct' class='cedi-file-uploader'/></div></div>");var t={dialogClass:"wp-dialog cedi-dlg",resizable:!1,responsive:!0,width:"auto",modal:!0,closeOnEscape:!0,title:__("CSV Bulk import"),buttons:[{text:__("Close"),class:"",click:function(){e(this).dialog("close")}}],close:function(){e(this).remove()},position:{my:"center",at:"center",of:window}};e("#modal_content").dialog(t),e.fn.uploadObject=e("#cedi_file_upload_ct").uploadFile({url:ajaxurl,fileName:"cedi_bulk_import_file",uploadStr:__("Choose CSV..."),allowedTypes:"csv",multiple:!1,maxFileCount:1,showFileCounter:!1,autoSubmit:!1,formData:{action:"uploadFile"},extraHTML:function(){var e="<div><b>"+__("Code column")+" </b><input type='number' name='cedi_upload_bc_col' min='1' max='999' value='1' /></div></br>";return e+="<div><b>"+__("First line is header")+" </b><input type='checkbox' name='cedi_upload_first_line_header' checked class='cedi_cb_ios force-hidden cedi-upload-dlg-cb' value='1'/></div></br>",e+="<div><b>"+__("Skip existing products")+" </b><input type='checkbox' id='cedi_upload_skip_existing' name='cedi_upload_skip_existing' class='cedi_cb_ios force-hidden cedi-upload-dlg-cb' value='0'/></div></br>"},onSelect:function(t){var i=setInterval((function(){e(".ajax-file-upload-cancel").exists()&&(clearInterval(i),e(".cedi_cb_ios").iosCheckbox(),e(".ajax-file-upload-cancel").before('<div id="cedi_upload_bn" class="ajax-file-upload-green">'+__("Import</div>")),e("#cedi_upload_bn").click((function(t){e.fn.uploadObject.startUpload()})))}),0)},onCancel:function(){e("#cedi_upload_bn").remove()},onError:function(t,i,a,n){e(".ajax-file-upload-statusbar").remove(),e.fn.showInfoWindow("Error",a,!0)},onSuccess:function(t,i,a,n){e("#cedi_upload_bn").remove(),"undefined"!=(i=JSON.parse(i)).status&&"OK"==i.status&&(e.fn.SKU_UPDATE_SKIP_EXISTING=e("#cedi_upload_skip_existing").is(":checked"),e("#modal_content").dialog("close"),e.fn.showBulkImportProductsPopup(i.data))}})},e.fn.showBulkImportProductsPopup=function(t){var i={title:__("Bulk import products"),closeOnEscape:!0,modal:!0,dialogClass:"cedi-dlg",width:400,close:function(){e(this).remove()},buttons:[{text:__("Begin"),class:"cedi-bn-begin-import",click:function(){Object.keys(t).length>0&&(e("#cedi_bulk_import_listing").empty(),e(".cedi-bn-begin-import").remove(),e("#cedi_bulk_import_listing").loadingView({state:!0}),e.fn.processUpdatedSKUList(t))}},{text:__("Cancel"),class:"cedi-bn-cancel-import",click:function(){e(this).dialog("close")}}]},a="<div id='popup_content_placeholder'><div id='cedi_bulk_import_listing' class='cedi-scrollable'>";t?0==Object.keys(t).length?(a+="<span><b>"+__("No products to import.")+"</b></span><br>",i.buttons=[{text:__("Close"),class:"",click:function(){e(this).dialog("close")}}]):a+="<span><b>"+__("Press Begin to start import!")+"</b></span><br>":(a+="<span><b>"+__("Invalid data, please check your file or change code column!")+"</b></span><br>",i.buttons=[{text:__("Close"),class:"",click:function(){e(this).dialog("close")}}]),a+="</div>",e("#modal_content_placeholder").append("<div id='alert_content'>"+a+"</div>"),e("#progress_content_placeholder").append("<div hidden id='progress_content' class='cedi-pb-container'><div id='cedi_progressbar'><div class='cedi-pb-label'></div></div></div>"),e.progressbar=e("#cedi_progressbar"),e.progressLabel=e(".cedi-pb-label"),e("#alert_content").dialog(i),e("#cedi_checkbox_toggle").click((function(){e(this).is(":checked")?e("#cedi_product_listing input:checkbox").prop("checked",!0):e("#cedi_product_listing input:checkbox").prop("checked",!1)}))},e.fn.showUpdatedProductsList=function(t){Object.keys(t).length>0?e.fn.showUpdateProductsPopup(t):e.fn.showInfoWindow("Success",__("No updates found!"),!0)},e.fn.showUpdateProductsPopup=function(t){var i={title:__("Update products"),closeOnEscape:!0,modal:!0,dialogClass:"cedi-dlg",width:400,close:function(){e(this).remove()},buttons:[{text:__("Update"),class:"",click:function(){var t={};e("#cedi_product_listing input:checkbox").each((function(){1==e(this).prop("checked")&&(t[e(this).val()]=e(this).closest("label").text())})),Object.keys(t).length>0?(e(this).dialog("close"),e.fn.showProgress(),e.fn.processUpdatedSKUList(t)):e.fn.showInfoWindow("Error","Please select products for update!",!0)}},{text:__("Cancel"),class:"",click:function(){e(this).dialog("close")}}]},a="<div id='popup_content_placeholder'><div><p></p><p><label ><input type='checkbox' id='cedi_checkbox_toggle'>"+__("Check/uncheck all")+"</label></p></div></div><div id='cedi_product_listing' class='cedi-scrollable'>";for(let e in t)a+="<label><input type='checkbox' value='"+t[e][0]+"'>"+t[e][1]+"</label><br>";a+="</div>",e("#modal_content_placeholder").append("<div id='alert_content'>"+a+"</div>"),e("#progress_content_placeholder").append("<div hidden id='progress_content' class='cedi-pb-container'><div id='cedi_progressbar'><div class='cedi-pb-label'></div></div></div>"),e.progressbar=e("#cedi_progressbar"),e.progressLabel=e(".cedi-pb-label"),e("#alert_content").dialog(i),e("#cedi_checkbox_toggle").click((function(){e(this).is(":checked")?e("#cedi_product_listing input:checkbox").prop("checked",!0):e("#cedi_product_listing input:checkbox").prop("checked",!1)}))},e.fn.processUpdatedSKUList=function(t){e.fn.ITEM_FOR_UPDATE=t,e.fn.ITEM_UPDATED=[];var i=e.Deferred().resolve();e.when.apply(e,e.map(e.fn.ITEM_FOR_UPDATE,(function(t,a){return i=i.then((function(){return e.fn.processSelectedSKUListEntry(a)}))}))).then((function(){}))},e.fn.processSelectedSKUListEntry=function(t){var i=e.Deferred();return e.ajax({showLoader:!0,dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"updateSelectedProduct",itemId:t,mode:"u",do_skip:e.fn.SKU_UPDATE_SKIP_EXISTING}),success:function(a){return e(".wp-list-table").loadingView({state:!1}),e.fn.updateProgress(t,a),i.resolve({[e.fn.ITEM_FOR_UPDATE[t]]:!0})},error:function(a,n){console.log(t+" FAILED");var o=e.fn.processRequestStatus(a,n);return i.resolve({[e.fn.ITEM_FOR_UPDATE[t]]:o})}}),i.promise()},e.fn.updateProgress=function(t,i={}){e.fn.ITEM_UPDATED.push(t);var a=Object.keys(e.fn.ITEM_FOR_UPDATE).length,n=e.fn.ITEM_UPDATED.length,o=parseInt(n/a*100);if(e("#cedi_progress_dlg_status").exists()&&(e("#cedi_progress_dlg_status").html(__("Updating products: ")+n+"/"+a),e.progressbar.progressbar("value",o)),e("#cedi_bulk_import_listing").exists()){var s="</b></span><span style='color:red;margin-left: 5px;'>х</span><br>";i.hasOwnProperty("status")&&"OK"==i.status&&(s="</b></span><span style='color:green;margin-left: 5px;'>✔</span><br>"),e("#cedi_bulk_import_listing").append("<span><b>"+e.fn.ITEM_FOR_UPDATE[t]+s),100==o&&(e("#cedi_bulk_import_listing").append("<span><b>"+__("Done!")+"</b></span><br>"),e(".cedi-bn-cancel-import").text(__("Close")),e("#cedi_bulk_import_listing").loadingView({state:!1}))}}),e.fn.centerLogoImages=function(t=!1){e(".cedi-brand-logo-image").each((function(){e(this).centerImage("",!1,t)}))},e.fn.centerAdminBrandLogoImage=function(){e("#cedi-brand-image-field-ct").each((function(){e(this).centerImage()}))},e("body.home").exists())var t=setInterval((function(){if(e(".cedi-brands-logo-slider-ct").exists()){for(var[i,a]of(clearInterval(t),Object.entries(sliderCfg.brands))){var n='<div style="max-width:50px;height:50px;"><a style="min-width:50px;min-height:50px;display:inline-block;" target="_self" href="'+a.url+'"><img class="cedi-brand-logo-image" data-url="'+a.url+'"src="'+a.logo+'" title="'+a.name+'"></a></div>';e(".cedi-brands-logo-slider-ct").append(n)}var o=e(".cedi-brands-logo-slider-ct").bxSlider({preloadImages:"all",slideWidth:50,minSlides:1,maxSlides:6,moveSlides:2,pager:!1,nextText:__("Forward"),prevText:__("Back"),onSliderLoad:function(){e.fn.centerLogoImages(),e(".cedi-brands-logo-slider-ct").css({visibility:"visible"})}});if(o){e(".bx-wrapper .bx-caption span").css({"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap","text-align":"center"}),e(".bx-wrapper").css({"max-width":"100%"}),e(".bx-prev").css("background","url("+sliderCfg.imgPath+"controls.png) 0 -32px no-repeat").hide(),e(".bx-next").css("background","url("+sliderCfg.imgPath+"controls.png) -43px -32px no-repeat").hide(),e(".cedi-brands-logo-slider-ct,.bx-prev,.bx-next").hover((function(){e(".bx-prev").toggle(),e(".bx-next").toggle()}),(function(){e(".bx-prev").toggle(),e(".bx-next").toggle()}));var s=o.goToNextSlide;o.goToNextSlide=function(){s.apply(this,arguments),e.fn.centerLogoImages()};var r=o.goToPrevSlide;o.goToPrevSlide=function(){r.apply(this,arguments),e.fn.centerLogoImages()}}}}),1300);if(e("body.single-product").exists())var i=setInterval((function(){e(".cedi-brand-logo-product-page").exists()&&e.fn.centerLogoImages(!0)}),100);if(e("body.wp-admin").exists())i=setInterval((function(){e(".cedi-brand-logo-image-edit-page").exists()&&(clearInterval(i),e.fn.centerLogoImages(!0))}),50),i=setInterval((function(){e(".cedi-brand-logo-image-column").exists()&&(clearInterval(i),e.fn.centerLogoImages(!0),e(".wp-list-table tbody").sortable({cancel:":input, button, .ios-ui-select",start:function(e,t){t.item.startPos=t.item.index()},update:function(t,i){e.ajax({dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"sortBrands",brand_data:{id:i.item[0].id.split("tag-").join(""),prev:i.item.prev().length>0?i.item.prev()[0].id.split("tag-").join(""):"",next:i.item.next().length>0?i.item.next()[0].id.split("tag-").join(""):"",rows:e.map(e(this).find("tr"),(function(e){return e.id.split("tag-").join("")})),dir:i.item.index()-i.item.startPos}}),success:function(t){"undefined"!=t.status&&"OK"==t.status||e(".wp-list-table tbody").sortable("cancel")},error:function(t,i){e(".wp-list-table tbody").sortable("cancel"),e.fn.showInfoWindow("Error",__("Something went wrong"),!0)}})}}))}),50);function a(){var t=setInterval((function(){if(e(".cedi-filter-widget").exists()){clearInterval(t);var i="product_cat",a="cedi-brand",n="product_attr",o=[],s=[],r=0;e('*[data-taxonomy="product_cat"]').each((function(){r<e('*[data-taxonomy="product_cat"]').length&&(o[e(this).attr("value")]=e(this).data("cat-url")),r++}));var l=0;e('*[data-taxonomy="cedi-brand"]').each((function(){l<e('*[data-taxonomy="cedi-brand"]').length&&(s[e(this).attr("value")]=e(this).data("brand-url")),l++})),e.fn.getUrlParams=function(){var e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,i,a){e[i]=a})),e},e.fn.reInit=function(){var t=new URL(document.URL).pathname.split("/").filter((e=>e));t.includes("cedi-brand")&&2==t.length&&(e.fn.reInitBrandFilters([t[1]]),e.fn.reInitAttributeFilters()),Object.keys(CEDI_REQ_ARRAY).length>0&&(CEDI_REQ_ARRAY.hasOwnProperty(i)&&e.fn.reInitCategoryFilters(CEDI_REQ_ARRAY.product_cat.split(",")),CEDI_REQ_ARRAY.hasOwnProperty("cedi-brand")&&e.fn.reInitBrandFilters(CEDI_REQ_ARRAY["cedi-brand"].split(",")),e.fn.reInitAttributeFilters())},e.fn.reInitCategoryFilters=function(t){e('*[data-taxonomy="product_cat"]').each((function(){for(catSlug of t)e(this).attr("value")==catSlug&&e(this).attr("checked",!0);o[catSlug]=e(this).data("cat-url")}))},e.fn.rePositionAttributeFilters=function(){e('*[data-taxonomy="product_attr"]').each((function(){if(e(this).attr("checked")&&1!==e(this).data("radio-all")){var t=e(".cedi_filter_cb_group").children(".cedi_filter_ct").first(),i=e(this).parents(".cedi_filter_ct").first();i.is(t)||i.hide().insertAfter(t).fadeIn()}else;}))},e.fn.expandActiveAttributeFilters=function(){e('*[data-taxonomy="product_attr"]').each((function(){if(e(this).attr("checked")&&1!==e(this).data("radio-all")){var t=e(this).parents(".cedi_filter_ct").first(),i=t.find(".cedi-accordion-toggle").first(),a=t.find(".cedi-accordion-content").first();a.hasClass("open")||(a.toggleClass("open").slideToggle("fast"),i.toggleClass("active-tab").find(".cedi-options-link").toggleClass("active"))}})).promise().done((function(){e.fn.rePositionAttributeFilters()}))},e.fn.expandBrandsFilter=function(){var t=e(".cedi_filter_first").first(),i=!1;e(".cedi_filter_first .cedi-accordion-content > li > input").each((function(){if(e(this).attr("checked"))return i=!0,!1}));var a=t.find(".cedi-accordion-toggle").first(),n=t.find(".cedi-accordion-content").first();!n.hasClass("open")&&i&&(n.toggleClass("open").slideToggle("fast"),a.toggleClass("active-tab").find(".cedi-options-link").toggleClass("active"))},e.fn.reInitAttributeFilters=function(){for(queryParam in CEDI_REQ_ARRAY)CEDI_REQ_ARRAY.hasOwnProperty(n)||(CEDI_REQ_ARRAY.product_attr=[]),CEDI_REQ_ARRAY.product_attr.hasOwnProperty(queryParam)||(CEDI_REQ_ARRAY.product_attr[queryParam]=[]),CEDI_REQ_ARRAY.product_attr[queryParam]=CEDI_REQ_ARRAY[queryParam].split(","),delete CEDI_REQ_ARRAY[queryParam];e('*[data-taxonomy="product_attr"]').each((function(){for(attrSlug in CEDI_REQ_ARRAY.product_attr)e(this).data("attr-id")==attrSlug&&-1!==e.inArray(e(this).attr("value"),CEDI_REQ_ARRAY.product_attr[attrSlug])&&e(this).attr("checked",!0)})),e('*[data-taxonomy="product_attr"]').each((function(){if("radio"==e(this).attr("type")&&"All"==e(this).attr("value")){var t=(t=e(this).attr("id").split("-"))[0]+"-"+t[1],i=e("#"+t+"-1").attr("checked"),a=e("#"+t+"-2").attr("checked");i||a||e(this).attr("checked",!0)}})),e.fn.expandBrandsFilter(),e.fn.expandActiveAttributeFilters()},e.fn.createFilterLink=function(){var e=CEDI_LOCATION_NO_PARAMS;for(reqParam in CEDI_REQ_ARRAY)switch(reqParam){case i:e=o[CEDI_REQ_ARRAY[reqParam]];break;case a:e=CEDI_LOCATION_NO_PARAMS+"?"+reqParam+"="+CEDI_REQ_ARRAY[reqParam];break;case n:if(CEDI_REQ_ARRAY.hasOwnProperty(n))for(attrId in CEDI_REQ_ARRAY[reqParam])e==CEDI_LOCATION_NO_PARAMS?e+="?"+attrId+"="+CEDI_REQ_ARRAY[reqParam][attrId].join(","):e+="&"+attrId+"="+CEDI_REQ_ARRAY[reqParam][attrId].join(",")}return e},e('*[data-taxonomy="product_cat"]').change((function(){var t=e(this).data("taxonomy"),i=e(this).attr("value"),a=t in CEDI_REQ_ARRAY&&Object.keys(CEDI_REQ_ARRAY[t]).length>0?CEDI_REQ_ARRAY[t].split(","):[];if(this.checked)(a=[]).push(i);else{var n=a;a=n=e.grep(n,(function(e){return e!=i}))}CEDI_REQ_ARRAY[t]=a.join(","),""==CEDI_REQ_ARRAY[t]&&delete CEDI_REQ_ARRAY[t]})),e.fn.reInitBrandFilters=function(t){e('*[data-taxonomy="cedi-brand"]').each((function(){for(brandSlug of t)e(this).attr("value")==brandSlug&&e(this).attr("checked",!0)}))},e.fn.resetBrandFilters=function(t,i){e('*[data-taxonomy="'+t+'"]').each((function(){e(this).attr("id")!=i&&e(this).prop("checked",!1)})),delete CEDI_REQ_ARRAY[t]},e('*[data-taxonomy="cedi-brand"]').change((function(){var t=e(this).data("taxonomy");e.fn.resetBrandFilters(t,e(this).attr("id"));var i=e(this).attr("value"),a=t in CEDI_REQ_ARRAY&&Object.keys(CEDI_REQ_ARRAY[t]).length>0?CEDI_REQ_ARRAY[t].split(","):[];if(this.checked)-1===e.inArray(i,a)&&a.push(i);else{var n=a;a=n=e.grep(n,(function(e){return e!=i}))}CEDI_REQ_ARRAY[t]=a.join(","),""==CEDI_REQ_ARRAY[t]&&delete CEDI_REQ_ARRAY[t]})),e('*[data-taxonomy="product_attr"]').change((function(){var t=e(this).data("taxonomy"),i=e(this).attr("value"),a=e(this).attr("type"),n=e(this).data("attr-id"),o=n+"=",s=t in CEDI_REQ_ARRAY&&Object.keys(CEDI_REQ_ARRAY[t]).length>0?CEDI_REQ_ARRAY[t]:[];if(this.checked)s.hasOwnProperty(n)||(s[n]=[]),"radio"==a&&(s[n]=[]),-1===e.inArray(i,s[n])&&""!=i&&s[n].push(i),"radio"==a&&"All"==i&&delete s[n];else{var r=s[n];r=e.grep(r,(function(e){return e!=o+i&&e!=i})),s[n]=r}if(s[n].length>0)for(attrVal of s[n])CEDI_REQ_ARRAY.hasOwnProperty(t)||(CEDI_REQ_ARRAY[t]=[],CEDI_REQ_ARRAY[t][n]=[]),CEDI_REQ_ARRAY[t][n]=e.extend([],s[n]);else delete CEDI_REQ_ARRAY[t][n];CEDI_REQ_ARRAY.hasOwnProperty(t)&&0==Object.keys(CEDI_REQ_ARRAY[t]).length&&delete CEDI_REQ_ARRAY[t]})),e('button[id^="cedi_bn_filter_apply"').click((function(){window.location.href=e.fn.createFilterLink()})),e('button[id^="cedi_bn_filter_reset"').click((function(){var e=new URL(document.URL).pathname.split("/").filter((e=>e));e.includes("cedi-brand")&&2==e.length?window.location.href=CEDI_LOCATION_HOME:window.location.href=CEDI_LOCATION_BASE})),e.fn.reInit(),e(".cedi-options-list").find(".cedi-accordion-toggle").click((function(){e(this).next().toggleClass("open").slideToggle("fast",(function(){e(".cedi_filter_cb:visible").length>=SHOW_FILTER_BUTTON_VISIBLE_ROWS?e(".cedi_filter_buttons_ct_bottom").show():e(".cedi_filter_buttons_ct_bottom").hide()})),e(this).toggleClass("active-tab").find(".cedi-options-link").toggleClass("active")}))}}),100)}e(document).ready((function(){a()})),e(document).ajaxComplete((function(e,t,i){"portoajax=true"==i.data&&a()})),e('a[id^="cedi-brand-image-field-add"').click((function(t){var i=wp.media({frame:"post",state:"insert",multiple:!1});return i.on("insert",(function(){var t=i.state().get("selection").first().toJSON();e("#cedi-brand-image-hidden").val(t.id),e("#cedi-brand-image-field-ct").attr("src",t.url),e("#cedi-brand-image-field-ct").one("load",(function(){setTimeout(e.fn.centerAdminBrandLogoImage(),1)}))})),i.open(),!1})),e('a[id^="cedi-brand-image-field-remove"').click((function(t){t.preventDefault(),e("#cedi-brand-image-hidden").val(""),e("#cedi-brand-image-field-ct").attr("src","/wp-content/uploads/woocommerce-placeholder-150x150.png")})),e(".cedi_cb_ios").iosCheckbox(),e("#cedi_admin_settings_tab_filters_cb_manual_attribute_filters").change((function(t){1==e(this).prop("checked")?e("#cedi_manual_filters_list").css("display","block"):e("#cedi_manual_filters_list").css("display","none")})),e("#cedi_manual_filters_list").find(".cedi-accordion-toggle").click((function(){e(this).next().toggleClass("open").slideToggle("fast"),e(this).toggleClass("active-tab").find(".cedi-options-link").toggleClass("active")})),e(".cedi-options-list").each((function(){e(this).find(".ui-sortable").children().length>0&&e(this).css("display","block")})),e(".cedi-cb-brand-listing").iosCheckbox(),e(".cedi-cb-brand-listing").change((function(t){var i=e(this);e.ajax({dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"showHideBrands",brand_data:{id:i.prop("name").replace("cedi_admin_brand_visibility_",""),visible:i.prop("value")}}),error:function(t,a){var n=1==i.prop("value")?0:1;i.prop("checked",n).prop("value",n);var o=i.closest(".ios-checkbox-wrap").children(".ios-ui-select")[0];o&&(1==i.prop("value")?e(o).addClass("checked"):e(o).removeClass("checked")),e.fn.showInfoWindow("Error",__("Something went wrong"),!0)}})}));var n=e("#cedi_admin_settings_tab_misc_img_import_cfg_combo");n.exists()&&(n.prop("disabled",!0).empty(),e.ajax({showLoader:!0,dataType:"json",url:ajaxurl,type:"POST",data:jQuery.param({action:"getImageConfigs"}),success:function(t){e.each(t,(function(t,i){var a=i.split("||");n.append(e("<option></option>").attr("value",a[0]).text(a[1]))})),n.prop("disabled",!1),""!=CEDI_CURRENT_IMG_CFG&&n.val(CEDI_CURRENT_IMG_CFG)},error:function(t,i){var a=e.fn.processRequestStatus(t,i);e.fn.showInfoWindow("Error",a,!0)}}))})),function(e){e.fn.extend({iosCheckbox:function(){if(this.destroy=function(){e(this).each((function(){e(this).next(".ios-ui-select").remove()}))},"true"!==e(this).attr("data-ios-checkbox"))return e(this).attr("data-ios-checkbox","true"),e(this).each((function(t){var i=e(this),a=e("#"+e(this).attr("id")+"_hidden");i.addClass("ios-checkbox-input");var n="ios-checkbox-"+(i.attr("name")||i.attr("id")||t+1);i.wrap('<div id="'+n+'" class="ios-checkbox-wrap"></div>');var o=jQuery("<div>",{class:"ios-ui-select"}).append(jQuery("<div>",{class:"inner"}));if(i.is(":checked")&&o.addClass("checked"),i.hide().after(o),i.is(":disabled"))return o.css("opacity","0.6");o.click((function(){i.is(":disabled")||(o.toggleClass("checked"),o.hasClass("checked")?(i.prop("checked",!1).val(1).change(),a&&a.val(1)):(i.prop("checked",!0).val(0).change(),a&&a.val(0)))}))})),this}})}(jQuery),function(e){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0},onAutoChange:function(){return!0}};e.fn.bxSlider=function(a){if(0===this.length)return this;if(this.length>1)return this.each((function(){e(this).bxSlider(a)})),this;var n={},o=this,s=e(window).width(),r=e(window).height();if(!e(o).data("bxSlider")){var l=function(){e(o).data("bxSlider")||(n.settings=e.extend({},t,a),n.settings.slideWidth=parseInt(n.settings.slideWidth),n.children=o.children(n.settings.slideSelector),n.children.length<n.settings.minSlides&&(n.settings.minSlides=n.children.length),n.children.length<n.settings.maxSlides&&(n.settings.maxSlides=n.children.length),n.settings.randomStart&&(n.settings.startSlide=Math.floor(Math.random()*n.children.length)),n.active={index:n.settings.startSlide},n.carousel=n.settings.minSlides>1||n.settings.maxSlides>1,n.carousel&&(n.settings.preloadImages="all"),n.minThreshold=n.settings.minSlides*n.settings.slideWidth+(n.settings.minSlides-1)*n.settings.slideMargin,n.maxThreshold=n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin,n.working=!1,n.controls={},n.interval=null,n.animProp="vertical"===n.settings.mode?"top":"left",n.usingCSS=n.settings.useCSS&&"fade"!==n.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<t.length;i++)if(void 0!==e.style[t[i]])return n.cssPrefix=t[i].replace("Perspective","").toLowerCase(),n.animProp="-"+n.cssPrefix+"-transform",!0;return!1}(),"vertical"===n.settings.mode&&(n.settings.maxSlides=n.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(n.settings.slideSelector).each((function(){e(this).data("origStyle",e(this).attr("style"))})),d())},d=function(){var t=n.children.eq(n.settings.startSlide);o.wrap('<div class="'+n.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),n.viewport=o.parent(),n.settings.ariaLive&&!n.settings.ticker&&n.viewport.attr("aria-live","polite"),n.loader=e('<div class="bx-loading" />'),n.viewport.prepend(n.loader),o.css({width:"horizontal"===n.settings.mode?1e3*n.children.length+215+"%":"auto",position:"relative"}),n.usingCSS&&n.settings.easing?o.css("-"+n.cssPrefix+"-transition-timing-function",n.settings.easing):n.settings.easing||(n.settings.easing="swing"),n.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),n.viewport.parent().css({maxWidth:h()}),n.children.css({float:"horizontal"===n.settings.mode?"left":"none",listStyle:"none",position:"relative"}),n.children.css("width",f()),"horizontal"===n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginRight",n.settings.slideMargin),"vertical"===n.settings.mode&&n.settings.slideMargin>0&&n.children.css("marginBottom",n.settings.slideMargin),"fade"===n.settings.mode&&(n.children.css({position:"absolute",zIndex:0,display:"none"}),n.children.eq(n.settings.startSlide).css({zIndex:n.settings.slideZIndex,display:"block"})),n.controls.el=e('<div class="bx-controls" />'),n.settings.captions&&E(),n.active.last=n.settings.startSlide===m()-1,n.settings.video&&o.fitVids(),"none"===n.settings.preloadImages?t=null:("all"===n.settings.preloadImages||n.settings.ticker)&&(t=n.children),n.settings.ticker?n.settings.pager=!1:(n.settings.controls&&C(),n.settings.auto&&n.settings.autoControls&&x(),n.settings.pager&&w(),(n.settings.controls||n.settings.autoControls||n.settings.pager)&&n.viewport.after(n.controls.el)),null===t?u():c(t,u)},c=function(t,i){var a=t.find('img:not([src=""]), iframe').length,n=0;0!==a?t.find('img:not([src=""]), iframe').each((function(){e(this).one("load error",(function(){++n===a&&i()})).each((function(){(this.complete||""==this.src)&&e(this).trigger("load")}))})):i()},u=function(){if(n.settings.infiniteLoop&&"fade"!==n.settings.mode&&!n.settings.ticker){var t="vertical"===n.settings.mode?n.settings.minSlides:n.settings.maxSlides,i=n.children.slice(0,t).clone(!0).addClass("bx-clone"),a=n.children.slice(-t).clone(!0).addClass("bx-clone");n.settings.ariaHidden&&(i.attr("aria-hidden",!0),a.attr("aria-hidden",!0)),o.append(i).prepend(a)}n.loader.remove(),_(),"vertical"===n.settings.mode&&(n.settings.adaptiveHeight=!0),n.viewport.height(p()),o.redrawSlider(),n.settings.onSliderLoad.call(o,n.active.index),n.initialized=!0,n.settings.responsive&&e(window).on("resize",Y),n.settings.auto&&n.settings.autoStart&&(m()>1||n.settings.autoSlideForOnePage)&&N(),n.settings.ticker&&F(),n.settings.pager&&k(n.settings.startSlide),n.settings.controls&&M(),n.settings.touchEnabled&&!n.settings.ticker&&j(),n.settings.keyboardEnabled&&!n.settings.ticker&&e(document).keydown(B)},p=function(){var t=0,a=e();if("vertical"===n.settings.mode||n.settings.adaptiveHeight)if(n.carousel){var o=1===n.settings.moveSlides?n.active.index:n.active.index*v();for(a=n.children.eq(o),i=1;i<=n.settings.maxSlides-1;i++)a=o+i>=n.children.length?a.add(n.children.eq(i-1)):a.add(n.children.eq(o+i))}else a=n.children.eq(n.active.index);else a=n.children;return"vertical"===n.settings.mode?(a.each((function(i){t+=e(this).outerHeight()})),n.settings.slideMargin>0&&(t+=n.settings.slideMargin*(n.settings.minSlides-1))):t=Math.max.apply(Math,a.map((function(){return e(this).outerHeight(!1)})).get()),"border-box"===n.viewport.css("box-sizing")?t+=parseFloat(n.viewport.css("padding-top"))+parseFloat(n.viewport.css("padding-bottom"))+parseFloat(n.viewport.css("border-top-width"))+parseFloat(n.viewport.css("border-bottom-width")):"padding-box"===n.viewport.css("box-sizing")&&(t+=parseFloat(n.viewport.css("padding-top"))+parseFloat(n.viewport.css("padding-bottom"))),t},h=function(){var e="100%";return n.settings.slideWidth>0&&(e="horizontal"===n.settings.mode?n.settings.maxSlides*n.settings.slideWidth+(n.settings.maxSlides-1)*n.settings.slideMargin:n.settings.slideWidth),e},f=function(){var e=n.settings.slideWidth,t=n.viewport.width();if(0===n.settings.slideWidth||n.settings.slideWidth>t&&!n.carousel||"vertical"===n.settings.mode)e=t;else if(n.settings.maxSlides>1&&"horizontal"===n.settings.mode){if(t>n.maxThreshold)return e;t<n.minThreshold?e=(t-n.settings.slideMargin*(n.settings.minSlides-1))/n.settings.minSlides:n.settings.shrinkItems&&(e=Math.floor((t+n.settings.slideMargin)/Math.ceil((t+n.settings.slideMargin)/(e+n.settings.slideMargin))-n.settings.slideMargin))}return e},g=function(){var e=1,t=null;return"horizontal"===n.settings.mode&&n.settings.slideWidth>0?n.viewport.width()<n.minThreshold?e=n.settings.minSlides:n.viewport.width()>n.maxThreshold?e=n.settings.maxSlides:(t=n.children.first().width()+n.settings.slideMargin,e=Math.floor((n.viewport.width()+n.settings.slideMargin)/t)||1):"vertical"===n.settings.mode&&(e=n.settings.minSlides),e},m=function(){var e=0,t=0,i=0;if(n.settings.moveSlides>0){if(!n.settings.infiniteLoop){for(;t<n.children.length;)++e,t=i+g(),i+=n.settings.moveSlides<=g()?n.settings.moveSlides:g();return i}e=Math.ceil(n.children.length/v())}else e=Math.ceil(n.children.length/g());return e},v=function(){return n.settings.moveSlides>0&&n.settings.moveSlides<=g()?n.settings.moveSlides:g()},_=function(){var e,t,i;n.children.length>n.settings.maxSlides&&n.active.last&&!n.settings.infiniteLoop?"horizontal"===n.settings.mode?(e=(t=n.children.last()).position(),S(-(e.left-(n.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===n.settings.mode&&(i=n.children.length-n.settings.minSlides,e=n.children.eq(i).position(),S(-e.top,"reset",0)):(e=n.children.eq(n.active.index*v()).position(),n.active.index===m()-1&&(n.active.last=!0),void 0!==e&&("horizontal"===n.settings.mode?S(-e.left,"reset",0):"vertical"===n.settings.mode&&S(-e.top,"reset",0)))},S=function(t,i,a,s){var r,l;n.usingCSS?(l="vertical"===n.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",o.css("-"+n.cssPrefix+"-transition-duration",a/1e3+"s"),"slide"===i?(o.css(n.animProp,l),0!==a?o.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(t){e(t.target).is(o)&&(o.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),P())})):P()):"reset"===i?o.css(n.animProp,l):"ticker"===i&&(o.css("-"+n.cssPrefix+"-transition-timing-function","linear"),o.css(n.animProp,l),0!==a?o.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",(function(t){e(t.target).is(o)&&(o.off("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),S(s.resetValue,"reset",0),U())})):(S(s.resetValue,"reset",0),U()))):((r={})[n.animProp]=t,"slide"===i?o.animate(r,a,n.settings.easing,(function(){P()})):"reset"===i?o.css(n.animProp,t):"ticker"===i&&o.animate(r,a,"linear",(function(){S(s.resetValue,"reset",0),U()})))},b=function(){for(var t="",i="",a=m(),o=0;o<a;o++)i="",n.settings.buildPager&&e.isFunction(n.settings.buildPager)||n.settings.pagerCustom?(i=n.settings.buildPager(o),n.pagerEl.addClass("bx-custom-pager")):(i=o+1,n.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+i+"</a></div>";n.pagerEl.html(t)},w=function(){n.settings.pagerCustom?n.pagerEl=e(n.settings.pagerCustom):(n.pagerEl=e('<div class="bx-pager" />'),n.settings.pagerSelector?e(n.settings.pagerSelector).html(n.pagerEl):n.controls.el.addClass("bx-has-pager").append(n.pagerEl),b()),n.pagerEl.on("click touchend","a",y)},C=function(){n.controls.next=e('<a class="bx-next" href="">'+n.settings.nextText+"</a>"),n.controls.prev=e('<a class="bx-prev" href="">'+n.settings.prevText+"</a>"),n.controls.next.on("click touchend",T),n.controls.prev.on("click touchend",I),n.settings.nextSelector&&e(n.settings.nextSelector).append(n.controls.next),n.settings.prevSelector&&e(n.settings.prevSelector).append(n.controls.prev),n.settings.nextSelector||n.settings.prevSelector||(n.controls.directionEl=e('<div class="bx-controls-direction" />'),n.controls.directionEl.append(n.controls.prev).append(n.controls.next),n.controls.el.addClass("bx-has-controls-direction").append(n.controls.directionEl))},x=function(){n.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+n.settings.startText+"</a></div>"),n.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+n.settings.stopText+"</a></div>"),n.controls.autoEl=e('<div class="bx-controls-auto" />'),n.controls.autoEl.on("click",".bx-start",A),n.controls.autoEl.on("click",".bx-stop",R),n.settings.autoControlsCombine?n.controls.autoEl.append(n.controls.start):n.controls.autoEl.append(n.controls.start).append(n.controls.stop),n.settings.autoControlsSelector?e(n.settings.autoControlsSelector).html(n.controls.autoEl):n.controls.el.addClass("bx-has-controls-auto").append(n.controls.autoEl),D(n.settings.autoStart?"stop":"start")},E=function(){n.children.each((function(t){var i=e(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&e(this).append('<div class="bx-caption"><span>'+i+"</span></div>")}))},T=function(e){e.preventDefault(),n.controls.el.hasClass("disabled")||(n.settings.auto&&n.settings.stopAutoOnClick&&o.stopAuto(),o.goToNextSlide())},I=function(e){e.preventDefault(),n.controls.el.hasClass("disabled")||(n.settings.auto&&n.settings.stopAutoOnClick&&o.stopAuto(),o.goToPrevSlide())},A=function(e){o.startAuto(),e.preventDefault()},R=function(e){o.stopAuto(),e.preventDefault()},y=function(t){var i,a;t.preventDefault(),n.controls.el.hasClass("disabled")||(n.settings.auto&&n.settings.stopAutoOnClick&&o.stopAuto(),void 0!==(i=e(t.currentTarget)).attr("data-slide-index")&&(a=parseInt(i.attr("data-slide-index")))!==n.active.index&&o.goToSlide(a))},k=function(t){var i=n.children.length;if("short"===n.settings.pagerType)return n.settings.maxSlides>1&&(i=Math.ceil(n.children.length/n.settings.maxSlides)),void n.pagerEl.html(t+1+n.settings.pagerShortSeparator+i);n.pagerEl.find("a").removeClass("active"),n.pagerEl.each((function(i,a){e(a).find("a").eq(t).addClass("active")}))},P=function(){if(n.settings.infiniteLoop){var e="";0===n.active.index?e=n.children.eq(0).position():n.active.index===m()-1&&n.carousel?e=n.children.eq((m()-1)*v()).position():n.active.index===n.children.length-1&&(e=n.children.eq(n.children.length-1).position()),e&&("horizontal"===n.settings.mode?S(-e.left,"reset",0):"vertical"===n.settings.mode&&S(-e.top,"reset",0))}n.working=!1,n.settings.onSlideAfter.call(o,n.children.eq(n.active.index),n.oldIndex,n.active.index)},D=function(e){n.settings.autoControlsCombine?n.controls.autoEl.html(n.controls[e]):(n.controls.autoEl.find("a").removeClass("active"),n.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},M=function(){1===m()?(n.controls.prev.addClass("disabled"),n.controls.next.addClass("disabled")):!n.settings.infiniteLoop&&n.settings.hideControlOnEnd&&(0===n.active.index?(n.controls.prev.addClass("disabled"),n.controls.next.removeClass("disabled")):n.active.index===m()-1?(n.controls.next.addClass("disabled"),n.controls.prev.removeClass("disabled")):(n.controls.prev.removeClass("disabled"),n.controls.next.removeClass("disabled")))},O=function(){o.startAuto()},L=function(){o.stopAuto()},N=function(){n.settings.autoDelay>0?setTimeout(o.startAuto,n.settings.autoDelay):(o.startAuto(),e(window).focus(O).blur(L)),n.settings.autoHover&&o.hover((function(){n.interval&&(o.stopAuto(!0),n.autoPaused=!0)}),(function(){n.autoPaused&&(o.startAuto(!0),n.autoPaused=null)}))},F=function(){var t,i,a,s,r,l,d,c,u=0;"next"===n.settings.autoDirection?o.append(n.children.clone().addClass("bx-clone")):(o.prepend(n.children.clone().addClass("bx-clone")),t=n.children.first().position(),u="horizontal"===n.settings.mode?-t.left:-t.top),S(u,"reset",0),n.settings.pager=!1,n.settings.controls=!1,n.settings.autoControls=!1,n.settings.tickerHover&&(n.usingCSS?(s="horizontal"===n.settings.mode?4:5,n.viewport.hover((function(){i=o.css("-"+n.cssPrefix+"-transform"),a=parseFloat(i.split(",")[s]),S(a,"reset",0)}),(function(){c=0,n.children.each((function(t){c+="horizontal"===n.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)})),r=n.settings.speed/c,l="horizontal"===n.settings.mode?"left":"top",d=r*(c-Math.abs(parseInt(a))),U(d)}))):n.viewport.hover((function(){o.stop()}),(function(){c=0,n.children.each((function(t){c+="horizontal"===n.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)})),r=n.settings.speed/c,l="horizontal"===n.settings.mode?"left":"top",d=r*(c-Math.abs(parseInt(o.css(l)))),U(d)}))),U()},U=function(e){var t,i,a=e||n.settings.speed,s={left:0,top:0},r={left:0,top:0};"next"===n.settings.autoDirection?s=o.find(".bx-clone").first().position():r=n.children.first().position(),t="horizontal"===n.settings.mode?-s.left:-s.top,i="horizontal"===n.settings.mode?-r.left:-r.top,S(t,"ticker",a,{resetValue:i})},B=function(t){var i=document.activeElement.tagName.toLowerCase();if(null==new RegExp(i,["i"]).exec("input|textarea")&&function(t){var i=e(window),a={top:i.scrollTop(),left:i.scrollLeft()},n=t.offset();return a.right=a.left+i.width(),a.bottom=a.top+i.height(),n.right=n.left+t.outerWidth(),n.bottom=n.top+t.outerHeight(),!(a.right<n.left||a.left>n.right||a.bottom<n.top||a.top>n.bottom)}(o)){if(39===t.keyCode)return T(t),!1;if(37===t.keyCode)return I(t),!1}},j=function(){n.touch={start:{x:0,y:0},end:{x:0,y:0}},(!!("ontouchstart"in window)||window.navigator.msMaxTouchPoints>0)&&n.viewport.bind("touchstart MSPointerDown pointerdown",G),n.viewport.on("click",".bxslider a",(function(e){n.viewport.hasClass("click-disabled")&&(e.preventDefault(),n.viewport.removeClass("click-disabled"))}))},G=function(e){if("touchstart"===e.type||0===e.button)if(e.preventDefault(),n.controls.el.addClass("disabled"),n.working)n.controls.el.removeClass("disabled");else{n.touch.originalPos=o.position();var t=e.originalEvent,i=void 0!==t.changedTouches?t.changedTouches:[t];if("function"==typeof PointerEvent&&void 0===t.pointerId)return;n.touch.start.x=i[0].pageX,n.touch.start.y=i[0].pageY,n.viewport.get(0).setPointerCapture&&(n.pointerId=t.pointerId,n.viewport.get(0).setPointerCapture(n.pointerId)),n.originalClickTarget=t.originalTarget||t.target,n.originalClickButton=t.button,n.originalClickButtons=t.buttons,n.originalEventType=t.type,n.hasMove=!1,n.viewport.on("touchmove MSPointerMove pointermove",H),n.viewport.on("touchend MSPointerUp pointerup",K),n.viewport.on("MSPointerCancel pointercancel",W)}},W=function(e){e.preventDefault(),S(n.touch.originalPos.left,"reset",0),n.controls.el.removeClass("disabled"),n.viewport.off("MSPointerCancel pointercancel",W),n.viewport.off("touchmove MSPointerMove pointermove",H),n.viewport.off("touchend MSPointerUp pointerup",K),n.viewport.get(0).releasePointerCapture&&n.viewport.get(0).releasePointerCapture(n.pointerId)},H=function(e){var t=e.originalEvent,i=void 0!==t.changedTouches?t.changedTouches:[t],a=Math.abs(i[0].pageX-n.touch.start.x),o=Math.abs(i[0].pageY-n.touch.start.y),s=0,r=0;n.hasMove=!0,(3*a>o&&n.settings.preventDefaultSwipeX||3*o>a&&n.settings.preventDefaultSwipeY)&&e.preventDefault(),"touchmove"!==e.type&&e.preventDefault(),"fade"!==n.settings.mode&&n.settings.oneToOneTouch&&("horizontal"===n.settings.mode?(r=i[0].pageX-n.touch.start.x,s=n.touch.originalPos.left+r):(r=i[0].pageY-n.touch.start.y,s=n.touch.originalPos.top+r),S(s,"reset",0))},K=function(t){t.preventDefault(),n.viewport.off("touchmove MSPointerMove pointermove",H),n.controls.el.removeClass("disabled");var i=t.originalEvent,a=void 0!==i.changedTouches?i.changedTouches:[i],s=0,r=0;n.touch.end.x=a[0].pageX,n.touch.end.y=a[0].pageY,"fade"===n.settings.mode?(r=Math.abs(n.touch.start.x-n.touch.end.x))>=n.settings.swipeThreshold&&(n.touch.start.x>n.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):("horizontal"===n.settings.mode?(r=n.touch.end.x-n.touch.start.x,s=n.touch.originalPos.left):(r=n.touch.end.y-n.touch.start.y,s=n.touch.originalPos.top),!n.settings.infiniteLoop&&(0===n.active.index&&r>0||n.active.last&&r<0)?S(s,"reset",200):Math.abs(r)>=n.settings.swipeThreshold?(r<0?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):S(s,"reset",200)),n.viewport.off("touchend MSPointerUp pointerup",K),n.viewport.get(0).releasePointerCapture&&n.viewport.get(0).releasePointerCapture(n.pointerId),!1!==n.hasMove||0!==n.originalClickButton&&"touchstart"!==n.originalEventType||e(n.originalClickTarget).trigger({type:"click",button:n.originalClickButton,buttons:n.originalClickButtons})},Y=function(t){if(n.initialized)if(n.working)window.setTimeout(Y,10);else{var i=e(window).width(),a=e(window).height();s===i&&r===a||(s=i,r=a,o.redrawSlider(),n.settings.onSliderResize.call(o,n.active.index))}},Q=function(e){var t=g();n.settings.ariaHidden&&!n.settings.ticker&&(n.children.attr("aria-hidden","true"),n.children.slice(e,e+t).attr("aria-hidden","false"))};return o.goToSlide=function(t,i){var a,s,r,l,d=!0,c=0,u={left:0,top:0},h=null;if(n.oldIndex=n.active.index,n.active.index=function(e){return e<0?n.settings.infiniteLoop?m()-1:n.active.index:e>=m()?n.settings.infiniteLoop?0:n.active.index:e}(t),!n.working&&n.active.index!==n.oldIndex){if(n.working=!0,void 0!==(d=n.settings.onSlideBefore.call(o,n.children.eq(n.active.index),n.oldIndex,n.active.index))&&!d)return n.active.index=n.oldIndex,void(n.working=!1);"next"===i?n.settings.onSlideNext.call(o,n.children.eq(n.active.index),n.oldIndex,n.active.index)||(d=!1):"prev"===i&&(n.settings.onSlidePrev.call(o,n.children.eq(n.active.index),n.oldIndex,n.active.index)||(d=!1)),n.active.last=n.active.index>=m()-1,(n.settings.pager||n.settings.pagerCustom)&&k(n.active.index),n.settings.controls&&M(),"fade"===n.settings.mode?(n.settings.adaptiveHeight&&n.viewport.height()!==p()&&n.viewport.animate({height:p()},n.settings.adaptiveHeightSpeed),n.children.filter(":visible").fadeOut(n.settings.speed).css({zIndex:0}),n.children.eq(n.active.index).css("zIndex",n.settings.slideZIndex+1).fadeIn(n.settings.speed,(function(){e(this).css("zIndex",n.settings.slideZIndex),P()}))):(n.settings.adaptiveHeight&&n.viewport.height()!==p()&&n.viewport.animate({height:p()},n.settings.adaptiveHeightSpeed),!n.settings.infiniteLoop&&n.carousel&&n.active.last?"horizontal"===n.settings.mode?(u=(h=n.children.eq(n.children.length-1)).position(),c=n.viewport.width()-h.outerWidth()):(a=n.children.length-n.settings.minSlides,u=n.children.eq(a).position()):n.carousel&&n.active.last&&"prev"===i?(s=1===n.settings.moveSlides?n.settings.maxSlides-v():(m()-1)*v()-(n.children.length-n.settings.maxSlides),u=(h=o.children(".bx-clone").eq(s)).position()):"next"===i&&0===n.active.index?(u=o.find("> .bx-clone").eq(n.settings.maxSlides).position(),n.active.last=!1):t>=0&&(l=t*parseInt(v()),u=n.children.eq(l).position()),void 0!==u&&(r="horizontal"===n.settings.mode?-(u.left-c):-u.top,S(r,"slide",n.settings.speed)),n.working=!1),n.settings.ariaHidden&&Q(n.active.index*v())}},o.goToNextSlide=function(){if((n.settings.infiniteLoop||!n.active.last)&&!0!==n.working){var e=parseInt(n.active.index)+1;o.goToSlide(e,"next")}},o.goToPrevSlide=function(){if((n.settings.infiniteLoop||0!==n.active.index)&&!0!==n.working){var e=parseInt(n.active.index)-1;o.goToSlide(e,"prev")}},o.startAuto=function(e){n.interval||(n.interval=setInterval((function(){"next"===n.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()}),n.settings.pause),n.settings.onAutoChange.call(o,!0),n.settings.autoControls&&!0!==e&&D("stop"))},o.stopAuto=function(e){n.autoPaused&&(n.autoPaused=!1),n.interval&&(clearInterval(n.interval),n.interval=null,n.settings.onAutoChange.call(o,!1),n.settings.autoControls&&!0!==e&&D("start"))},o.getCurrentSlide=function(){return n.active.index},o.getCurrentSlideElement=function(){return n.children.eq(n.active.index)},o.getSlideElement=function(e){return n.children.eq(e)},o.getSlideCount=function(){return n.children.length},o.isWorking=function(){return n.working},o.redrawSlider=function(){n.children.add(o.find(".bx-clone")).outerWidth(f()),n.viewport.css("height",p()),n.settings.ticker||_(),n.active.last&&(n.active.index=m()-1),n.active.index>=m()&&(n.active.last=!0),n.settings.pager&&!n.settings.pagerCustom&&(b(),k(n.active.index)),n.settings.ariaHidden&&Q(n.active.index*v())},o.destroySlider=function(){n.initialized&&(n.initialized=!1,e(".bx-clone",this).remove(),n.children.each((function(){void 0!==e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")})),void 0!==e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),n.controls.el&&n.controls.el.remove(),n.controls.next&&n.controls.next.remove(),n.controls.prev&&n.controls.prev.remove(),n.pagerEl&&n.settings.controls&&!n.settings.pagerCustom&&n.pagerEl.remove(),e(".bx-caption",this).remove(),n.controls.autoEl&&n.controls.autoEl.remove(),clearInterval(n.interval),n.settings.responsive&&e(window).off("resize",Y),n.settings.keyboardEnabled&&e(document).off("keydown",B),e(this).removeData("bxSlider"),e(window).off("blur",L).off("focus",O))},o.reloadSlider=function(t){void 0!==t&&(a=t),o.destroySlider(),l(),e(o).data("bxSlider",this)},l(),e(o).data("bxSlider",this),this}}}(jQuery),function(e){var t=[["AF","AFG",4,"Afghanistan"],["AX","ALA",248,"Åland Islands"],["AL","ALB",8,"Albania"],["DZ","DZA",12,"Algeria"],["AS","ASM",16,"American Samoa"],["AD","AND",20,"Andorra"],["AO","AGO",24,"Angola"],["AI","AIA",660,"Anguilla"],["AQ","ATA",10,"Antarctica"],["AG","ATG",28,"Antigua and Barbuda"],["AR","ARG",32,"Argentina"],["AM","ARM",51,"Armenia"],["AW","ABW",533,"Aruba"],["AU","AUS",36,"Australia"],["AT","AUT",40,"Austria"],["AZ","AZE",31,"Azerbaijan"],["BS","BHS",44,"Bahamas"],["BH","BHR",48,"Bahrain"],["BD","BGD",50,"Bangladesh"],["BB","BRB",52,"Barbados"],["BY","BLR",112,"Belarus"],["BE","BEL",56,"Belgium"],["BZ","BLZ",84,"Belize"],["BJ","BEN",204,"Benin"],["BM","BMU",60,"Bermuda"],["BT","BTN",64,"Bhutan"],["BO","BOL",68,"Bolivia (Plurinational State of)"],["BQ","BES",535,"Bonaire, Sint Eustatius and Saba"],["BA","BIH",70,"Bosnia and Herzegovina"],["BW","BWA",72,"Botswana"],["BV","BVT",74,"Bouvet Island"],["BR","BRA",76,"Brazil"],["IO","IOT",86,"British Indian Ocean Territory"],["BN","BRN",96,"Brunei Darussalam"],["BG","BGR",100,"Bulgaria"],["BF","BFA",854,"Burkina Faso"],["BI","BDI",108,"Burundi"],["KH","KHM",116,"Cambodia"],["CM","CMR",120,"Cameroon"],["CA","CAN",124,"Canada"],["CV","CPV",132,"Cabo Verde"],["KY","CYM",136,"Cayman Islands"],["CF","CAF",140,"Central African Republic"],["TD","TCD",148,"Chad"],["CL","CHL",152,"Chile"],["CN","CHN",156,"China"],["CX","CXR",162,"Christmas Island"],["CC","CCK",166,"Cocos (Keeling) Islands"],["CO","COL",170,"Colombia"],["KM","COM",174,"Comoros"],["CG","COG",178,"Congo"],["CD","COD",180,"Congo (Democratic Republic of the)"],["CK","COK",184,"Cook Islands"],["CR","CRI",188,"Costa Rica"],["CI","CIV",384,"Côte d'Ivoire"],["HR","HRV",191,"Croatia"],["CU","CUB",192,"Cuba"],["CW","CUW",531,"Curaçao"],["CY","CYP",196,"Cyprus"],["CZ","CZE",203,"Czech Republic"],["DK","DNK",208,"Denmark"],["DJ","DJI",262,"Djibouti"],["DM","DMA",212,"Dominica"],["DO","DOM",214,"Dominican Republic"],["EC","ECU",218,"Ecuador"],["EG","EGY",818,"Egypt"],["SV","SLV",222,"El Salvador"],["GQ","GNQ",226,"Equatorial Guinea"],["ER","ERI",232,"Eritrea"],["EE","EST",233,"Estonia"],["ET","ETH",231,"Ethiopia"],["FK","FLK",238,"Falkland Islands (Malvinas)"],["FO","FRO",234,"Faroe Islands"],["FJ","FJI",242,"Fiji"],["FI","FIN",246,"Finland"],["FR","FRA",250,"France"],["GF","GUF",254,"French Guiana"],["PF","PYF",258,"French Polynesia"],["TF","ATF",260,"French Southern Territories"],["GA","GAB",266,"Gabon"],["GM","GMB",270,"Gambia"],["GE","GEO",268,"Georgia"],["DE","DEU",276,"Germany"],["GH","GHA",288,"Ghana"],["GI","GIB",292,"Gibraltar"],["GR","GRC",300,"Greece"],["GL","GRL",304,"Greenland"],["GD","GRD",308,"Grenada"],["GP","GLP",312,"Guadeloupe"],["GU","GUM",316,"Guam"],["GT","GTM",320,"Guatemala"],["GG","GGY",831,"Guernsey"],["GN","GIN",324,"Guinea"],["GW","GNB",624,"Guinea-Bissau"],["GY","GUY",328,"Guyana"],["HT","HTI",332,"Haiti"],["HM","HMD",334,"Heard Island and McDonald Islands"],["VA","VAT",336,"Holy See"],["HN","HND",340,"Honduras"],["HK","HKG",344,"Hong Kong"],["HU","HUN",348,"Hungary"],["IS","ISL",352,"Iceland"],["IN","IND",356,"India"],["ID","IDN",360,"Indonesia"],["IR","IRN",364,"Iran (Islamic Republic of)"],["IQ","IRQ",368,"Iraq"],["IE","IRL",372,"Ireland"],["IM","IMN",833,"Isle of Man"],["IL","ISR",376,"Israel"],["IT","ITA",380,"Italy"],["JM","JAM",388,"Jamaica"],["JP","JPN",392,"Japan"],["JE","JEY",832,"Jersey"],["JO","JOR",400,"Jordan"],["KZ","KAZ",398,"Kazakhstan"],["KE","KEN",404,"Kenya"],["KI","KIR",296,"Kiribati"],["KP","PRK",408,"Korea (Democratic People's Republic of)"],["KR","KOR",410,"Korea (Republic of)"],["KW","KWT",414,"Kuwait"],["KG","KGZ",417,"Kyrgyzstan"],["LA","LAO",418,"Lao People's Democratic Republic"],["LV","LVA",428,"Latvia"],["LB","LBN",422,"Lebanon"],["LS","LSO",426,"Lesotho"],["LR","LBR",430,"Liberia"],["LY","LBY",434,"Libya"],["LI","LIE",438,"Liechtenstein"],["LT","LTU",440,"Lithuania"],["LU","LUX",442,"Luxembourg"],["MO","MAC",446,"Macao"],["MK","MKD",807,"Macedonia (the former Yugoslav Republic of)"],["MG","MDG",450,"Madagascar"],["MW","MWI",454,"Malawi"],["MY","MYS",458,"Malaysia"],["MV","MDV",462,"Maldives"],["ML","MLI",466,"Mali"],["MT","MLT",470,"Malta"],["MH","MHL",584,"Marshall Islands"],["MQ","MTQ",474,"Martinique"],["MR","MRT",478,"Mauritania"],["MU","MUS",480,"Mauritius"],["YT","MYT",175,"Mayotte"],["MX","MEX",484,"Mexico"],["FM","FSM",583,"Micronesia (Federated States of)"],["MD","MDA",498,"Moldova (Republic of)"],["MC","MCO",492,"Monaco"],["MN","MNG",496,"Mongolia"],["ME","MNE",499,"Montenegro"],["MS","MSR",500,"Montserrat"],["MA","MAR",504,"Morocco"],["MZ","MOZ",508,"Mozambique"],["MM","MMR",104,"Myanmar"],["NA","NAM",516,"Namibia"],["NR","NRU",520,"Nauru"],["NP","NPL",524,"Nepal"],["NL","NLD",528,"Netherlands"],["NC","NCL",540,"New Caledonia"],["NZ","NZL",554,"New Zealand"],["NI","NIC",558,"Nicaragua"],["NE","NER",562,"Niger"],["NG","NGA",566,"Nigeria"],["NU","NIU",570,"Niue"],["NF","NFK",574,"Norfolk Island"],["MP","MNP",580,"Northern Mariana Islands"],["NO","NOR",578,"Norway"],["OM","OMN",512,"Oman"],["PK","PAK",586,"Pakistan"],["PW","PLW",585,"Palau"],["PS","PSE",275,"Palestine, State of"],["PA","PAN",591,"Panama"],["PG","PNG",598,"Papua New Guinea"],["PY","PRY",600,"Paraguay"],["PE","PER",604,"Peru"],["PH","PHL",608,"Philippines"],["PN","PCN",612,"Pitcairn"],["PL","POL",616,"Poland"],["PT","PRT",620,"Portugal"],["PR","PRI",630,"Puerto Rico"],["QA","QAT",634,"Qatar"],["RE","REU",638,"Réunion"],["RO","ROU",642,"Romania"],["RU","RUS",643,"Russian Federation"],["RW","RWA",646,"Rwanda"],["BL","BLM",652,"Saint Barthélemy"],["SH","SHN",654,"Saint Helena, Ascension and Tristan da Cunha"],["KN","KNA",659,"Saint Kitts and Nevis"],["LC","LCA",662,"Saint Lucia"],["MF","MAF",663,"Saint Martin (French part)"],["PM","SPM",666,"Saint Pierre and Miquelon"],["VC","VCT",670,"Saint Vincent and the Grenadines"],["WS","WSM",882,"Samoa"],["SM","SMR",674,"San Marino"],["ST","STP",678,"Sao Tome and Principe"],["SA","SAU",682,"Saudi Arabia"],["SN","SEN",686,"Senegal"],["RS","SRB",688,"Serbia"],["SC","SYC",690,"Seychelles"],["SL","SLE",694,"Sierra Leone"],["SG","SGP",702,"Singapore"],["SX","SXM",534,"Sint Maarten (Dutch part)"],["SK","SVK",703,"Slovakia"],["SI","SVN",705,"Slovenia"],["SB","SLB",90,"Solomon Islands"],["SO","SOM",706,"Somalia"],["ZA","ZAF",710,"South Africa"],["GS","SGS",239,"South Georgia and the South Sandwich Islands"],["SS","SSD",728,"South Sudan"],["ES","ESP",724,"Spain"],["LK","LKA",144,"Sri Lanka"],["SD","SDN",729,"Sudan"],["SR","SUR",740,"Suriname"],["SJ","SJM",744,"Svalbard and Jan Mayen"],["SZ","SWZ",748,"Swaziland"],["SE","SWE",752,"Sweden"],["CH","CHE",756,"Switzerland"],["SY","SYR",760,"Syrian Arab Republic"],["TW","TWN",158,"Taiwan, Province of China"],["TJ","TJK",762,"Tajikistan"],["TZ","TZA",834,"Tanzania, United Republic of"],["TH","THA",764,"Thailand"],["TL","TLS",626,"Timor-Leste"],["TG","TGO",768,"Togo"],["TK","TKL",772,"Tokelau"],["TO","TON",776,"Tonga"],["TT","TTO",780,"Trinidad and Tobago"],["TN","TUN",788,"Tunisia"],["TR","TUR",792,"Turkey"],["TM","TKM",795,"Turkmenistan"],["TC","TCA",796,"Turks and Caicos Islands"],["TV","TUV",798,"Tuvalu"],["UG","UGA",800,"Uganda"],["UA","UKR",804,"Ukraine"],["AE","ARE",784,"United Arab Emirates"],["GB","GBR",826,"United Kingdom of Great Britain and Northern Ireland"],["US","USA",840,"United States of America"],["UM","UMI",581,"United States Minor Outlying Islands"],["UY","URY",858,"Uruguay"],["UZ","UZB",860,"Uzbekistan"],["VU","VUT",548,"Vanuatu"],["VE","VEN",862,"Venezuela (Bolivarian Republic of)"],["VN","VNM",704,"Viet Nam"],["VG","VGB",92,"Virgin Islands (British)"],["VI","VIR",850,"Virgin Islands (U.S.)"],["WF","WLF",876,"Wallis and Futuna"],["EH","ESH",732,"Western Sahara"],["YE","YEM",887,"Yemen"],["ZM","ZMB",894,"Zambia"],["ZW","ZWE",716,"Zimbabwe"]];var i={init:function(i){return i=i||{},this.each((function(){var a,n,o,s=e(this),r=i.value||s.val()||s.attr("value"),l=i.codeMode||s.data("code-mode")||"alpha3",d=void 0===i.showFlag?s.data("show-flag"):i.showFlag,c="alpha2"==l?0:"numeric"==l?2:1,u=i.valueSet||(a=s.data("value-set"),n=" ",a?"string"!=typeof a?[]:a.split(n):[]),p=0==u.length?t:e.grep(t,(function(e){return u.indexOf(e[c])>=0}));if(d){s.hide().attr("autocomplete","off");var h=e('<div class="cs-selector" tabindex="0"><span class="cs-flag-selected cs-flag XXX"></span><span class="cs-name-selected"></span><span class="cs-arrow"></span></div>').insertAfter(s),f=e('<ul class="cs-list" style="display: none;"></ul>').insertAfter(h);function g(e){var t=e.data("country");h.find("span.cs-flag-selected").removeClass().addClass("cs-flag-selected cs-flag "+t[1]),h.find("span.cs-name-selected").text(t[3]);var i=t[c];s.val(i).change(),e.addClass("cs-selected").siblings().removeClass("cs-selected"),function(e){var t=f.scrollTop(),i=e.position().top,a=i+e.height();(i<0||a>f.height())&&f.scrollTop(t+i)}(e)}function m(e){var t=f.children("li.cs-selected"),i=null;0==t.length?i=f.children("li:first"):"up"==e?i=t.prev():"down"==e&&(i=t.next()),i.length>0&&g(i)}h.on("focus click",(function(){var e=h.position(),t=e.left,i=e.top+h.outerHeight();f.css({left:t+"px",top:i+"px"}).show()})).blur((function(){window.setTimeout((function(){f.hide()}),200)})).keydown((function(t){var i,a=t.keyCode;switch(a){case 38:return m("up"),void t.preventDefault();case 40:return m("down"),void t.preventDefault()}a>=65&&a<=90&&(i=String.fromCharCode(a),f.children("li").each((function(){var t=e(this);if(0===t.data("country")[3].indexOf(i))return g(t),!1})),t.preventDefault())})),f.on("click","li",(function(t){g(e(t.target)),f.hide()})),e.each(p,(function(t,i){e('<li><span class="cs-flag '+i[1]+'"></span>'+i[3]+"</li>").data("country",i).appendTo(f)})),o=s.val(),f.children("li").each((function(){var t=e(this),i=t.data("country")[c];if(o==i)return g(t),!1}))}else s.empty(),e.each(p,(function(t,i){e('<option value="'+i[c]+'">'+i[3]+"</option>").data("country",i).appendTo(s)})),s.val(r)}))}};e.fn.countrySelector=function(t){return i[t]?i[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.countrySelector"):i.init.apply(this,arguments)},e("select[data-role=country-selector]").countrySelector()}(jQuery);var LoadingView=void 0===LoadingView?{}:LoadingView;function setLoadingView(e,t,i,a,n){new LoadingView({selector:e,state:t,image:i,imageClassName:a,imageStyle:n}).loading()}function setElementLoading(e,t,i){setLoadingView(e,t,i)}LoadingView=function(e){var t={selector:"body",state:!0};t.image=CEDI_PLUGIN_URL+"img/spinner.gif",t.imageClassName="loadingImage",t.imageStyle="position:absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width:50px; ",void 0===e&&(e=t);var i=function(i){return void 0===e[i]||void 0===e[i]||null===e[i]||""===e[i]?t[i]:e[i]};this.selector=i("selector"),this.state=i("state"),this.image=i("image"),this.imageClassName=i("imageClassName"),this.imageStyle=i("imageStyle"),this.setState=function(e){this.state=e},this.setLoadingImage=function(e){this.image=e},this.setState=function(e){this.state=e},this.setImageClassName=function(e){this.imageClassName=e},this.addImageClassName=function(e){this.imageClassName+=" "+e},this.setImageStyle=function(e){this.imageStyle=e},this.addImageStyle=function(e){this.imageStyle+=" "+e},$=jQuery.noConflict(),this.loading=function(){this.state?($(this.selector).css({opacity:"0.5",filter:"alpha(opacity=50)",position:"relative"}),$(this.selector).append("<img class='"+this.imageClassName+"' style='"+this.imageStyle+"' src='"+this.image+"' alt='loading...' />"),$("*",this.selector).prop("disabled",!0)):($("*",this.selector).prop("disabled",!1),$(this.selector).css({opacity:"",filter:"",position:""}),$(this.selector).find("."+this.imageClassName).remove())}},function(e){e.fn.loadingView=function(t){return e.loadingView(this,t)},e.loadingView=function(e,t){t.selector=e;var i=new LoadingView(t);return i.loading(),i}}(jQuery),function(e){e.fn.niceSelect=function(t){if("string"==typeof t)return"update"==t?this.each((function(){var t=e(this),a=e(this).next(".nice-select"),n=a.hasClass("open");a.length&&(a.remove(),i(t),n&&t.next().trigger("click"))})):"destroy"==t?(this.each((function(){var t=e(this),i=e(this).next(".nice-select");i.length&&(i.remove(),t.css("display",""))})),0==e(".nice-select").length&&e(document).off(".nice_select")):console.log('Method "'+t+'" does not exist.'),this;function i(t){t.after(e("<div></div>").addClass("nice-select").addClass(t.attr("class")||"").addClass(t.attr("disabled")?"disabled":"").attr("tabindex",t.attr("disabled")?null:"0").html('<span class="current"></span><ul class="list"></ul>'));var i=t.next(),a=t.find("option"),n=t.find("option:selected");i.find(".current").html(n.data("display")||n.text()),a.each((function(t){var a=e(this),n=a.data("display");i.find("ul").append(e("<li></li>").attr("data-value",a.val()).attr("data-display",n||null).addClass("option"+(a.is(":selected")?" selected":"")+(a.is(":disabled")?" disabled":"")).html(a.text()))})),i.find(".current").text(a[0].text)}this.hide(),this.each((function(){var t=e(this);t.next().hasClass("nice-select")||i(t)})),e(document).off(".nice_select"),e(document).on("click.nice_select",".nice-select",(function(t){var i=e(this);e(".nice-select").not(i).removeClass("open"),i.toggleClass("open"),i.hasClass("open")?(i.find(".option"),i.find(".focus").removeClass("focus"),i.find(".selected").addClass("focus")):i.focus()})),e(document).on("click.nice_select",(function(t){0===e(t.target).closest(".nice-select").length&&e(".nice-select").removeClass("open").find(".option")})),e(document).on("click.nice_select",".nice-select .option:not(.disabled)",(function(t){var i=e(this);i.closest(".nice-select").prev("select").trigger("change",i),t.preventDefault(),t.stopPropagation()})),e(document).on("keydown.nice_select",".nice-select",(function(t){var i=e(this),a=e(i.find(".focus")||i.find(".list .option.selected"));if(32==t.keyCode||13==t.keyCode)return i.hasClass("open")?a.trigger("click"):i.trigger("click"),!1;if(27==t.keyCode)i.hasClass("open")&&i.trigger("click");else if(9==t.keyCode&&i.hasClass("open"))return!1}));var a=document.createElement("a").style;return a.cssText="pointer-events:auto","auto"!==a.pointerEvents&&e("html").addClass("no-csspointerevents"),this}}(jQuery),function(e){null==e.fn.ajaxForm&&e.getScript(("https:"==document.location.protocol?"https://":"http://")+"malsup.github.io/jquery.form.js");var t={};t.fileapi=void 0!==e("<input type='file'/>").get(0).files,t.formdata=void 0!==window.FormData,e.fn.uploadFile=function(i){function a(){w||(w=!0,function e(){if(g.sequential||(g.sequentialCount=99999),0==S.length&&0==b.length)g.afterUploadAll&&g.afterUploadAll(v),w=!1;else{if(b.length<g.sequentialCount){var t=S.shift();null!=t&&(b.push(t),t.removeClass(v.formGroup),t.submit())}window.setTimeout(e,100)}}())}function n(e){var t=e/1024;return parseInt(t)>1024?(t/1024).toFixed(2)+" MB":t.toFixed(2)+" KB"}function o(t){var i,a,n=[],o=(n="string"==jQuery.type(t)?t.split("&"):e.param(t).split("&")).length,s=[];for(i=0;i<o;i++)n[i]=n[i].replace(/\+/g," "),a=n[i].split("="),s.push([decodeURIComponent(a[0]),decodeURIComponent(a[1])]);return s}function s(t,i,a){for(var s=0;s<a.length;s++)if(r(i,t,a[s].name))if(t.allowDuplicates||!l(i,a[s].name))if(-1!=t.maxFileSize&&a[s].size>t.maxFileSize)t.showError&&e("<div class='"+t.errorClass+"'><b>"+a[s].name+"</b> "+t.sizeErrorStr+n(t.maxFileSize)+"</div>").appendTo(i.errorLog);else if(-1!=t.maxFileCount&&i.selectedFiles>=t.maxFileCount)t.showError&&e("<div class='"+t.errorClass+"'><b>"+a[s].name+"</b> "+t.maxFileCountErrorStr+t.maxFileCount+"</div>").appendTo(i.errorLog);else{i.selectedFiles++,i.existingFileNames.push(a[s].name);var d=e.extend({},t),c=new FormData,u=t.fileName.replace("[]","");c.append(u,a[s]);var p=t.formData;if(p)for(var g=o(p),m=0;m<g.length;m++)g[m]&&c.append(g[m][0],g[m][1]);d.fileData=c;var v=new h(i,t),_="";_=t.showFileCounter?i.fileCounter+t.fileCounterStyle+a[s].name:a[s].name,t.showFileSize&&(_+=" ("+n(a[s].size)+")"),v.filename.html(_);var S=e("<form style='display:block; position:absolute;left: 150px;' class='"+i.formGroup+"' method='"+t.method+"' action='"+t.url+"' enctype='"+t.enctype+"'></form>");S.appendTo("body");var b=[];b.push(a[s].name),f(S,d,v,b,i,a[s]),i.fileCounter++}else t.showError&&e("<div class='"+t.errorClass+"'><b>"+a[s].name+"</b> "+t.duplicateErrorStr+"</div>").appendTo(i.errorLog);else t.showError&&e("<div class='"+t.errorClass+"'><b>"+a[s].name+"</b> "+t.extErrorStr+t.allowedTypes+"</div>").appendTo(i.errorLog)}function r(e,t,i){var a=t.allowedTypes.toLowerCase().split(/[\s,]+/g),n=i.split(".").pop().toLowerCase();return!("*"!=t.allowedTypes&&jQuery.inArray(n,a)<0)}function l(e,t){var i=!1;if(e.existingFileNames.length)for(var a=0;a<e.existingFileNames.length;a++)(e.existingFileNames[a]==t||g.duplicateStrict&&e.existingFileNames[a].toLowerCase()==t.toLowerCase())&&(i=!0);return i}function d(e,t){if(e.existingFileNames.length)for(var i=0;i<t.length;i++){var a=e.existingFileNames.indexOf(t[i]);-1!=a&&e.existingFileNames.splice(a,1)}}function c(t,i){if(t.showFileCounter){var a=e(i.container).find(".ajax-file-upload-filename").length;i.fileCounter=a+1,e(i.container).find(".ajax-file-upload-filename").each((function(i,n){var o=e(this).html().split(t.fileCounterStyle),s=(parseInt(o[0]),a+t.fileCounterStyle+o[1]);e(this).html(s),a--}))}}function u(i,a,n,o){var l="ajax-upload-id-"+(new Date).getTime(),d=e("<form method='"+n.method+"' action='"+n.url+"' enctype='"+n.enctype+"'></form>"),p="<input type='file' id='"+l+"' name='"+n.fileName+"' accept='"+n.acceptFiles+"'/>";n.multiple&&(n.fileName.indexOf("[]")!=n.fileName.length-2&&(n.fileName+="[]"),p="<input type='file' id='"+l+"' name='"+n.fileName+"' accept='"+n.acceptFiles+"' multiple/>");var g=e(p).appendTo(d);g.change((function(){i.errorLog.html(""),n.allowedTypes.toLowerCase().split(",");var l=[];if(this.files){for(_=0;_<this.files.length;_++)l.push(this.files[_].name);if(0==n.onSelect(this.files))return}else{var p=e(this).val(),g=[];if(l.push(p),!r(0,n,p))return void(n.showError&&e("<div class='"+n.errorClass+"'><b>"+p+"</b> "+n.extErrorStr+n.allowedTypes+"</div>").appendTo(i.errorLog));if(g.push({name:p,size:"NA"}),0==n.onSelect(g))return}if(c(n,i),o.unbind("click"),d.hide(),u(i,a,n,o),d.addClass(a),n.serialize&&t.fileapi&&t.formdata){d.removeClass(a);var m=this.files;d.remove(),s(n,i,m)}else{for(var v="",_=0;_<l.length;_++)n.showFileCounter?v+=i.fileCounter+n.fileCounterStyle+l[_]+"<br>":v+=l[_]+"<br>",i.fileCounter++;if(-1!=n.maxFileCount&&i.selectedFiles+l.length>n.maxFileCount)return void(n.showError&&e("<div class='"+n.errorClass+"'><b>"+v+"</b> "+n.maxFileCountErrorStr+n.maxFileCount+"</div>").appendTo(i.errorLog));i.selectedFiles+=l.length;var S=new h(i,n);S.filename.html(v),f(d,n,S,l,i,null)}})),n.nestedForms?(d.css({margin:0,padding:0}),o.css({position:"relative",overflow:"hidden",cursor:"default"}),g.css({position:"absolute",cursor:"pointer",top:"0px",width:"100%",height:"100%",left:"0px","z-index":"100",opacity:"0.0",filter:"alpha(opacity=0)","-ms-filter":"alpha(opacity=0)","-khtml-opacity":"0.0","-moz-opacity":"0.0"}),d.appendTo(o)):(d.appendTo(e("body")),d.css({margin:0,padding:0,display:"block",position:"absolute",left:"-250px"}),-1!=navigator.appVersion.indexOf("MSIE ")?o.attr("for",l):o.click((function(){g.click()})))}function p(t,i){return this.statusbar=e("<div class='ajax-file-upload-statusbar'></div>").width(i.statusBarWidth),this.preview=e("<img class='ajax-file-upload-preview' />").width(i.previewWidth).height(i.previewHeight).appendTo(this.statusbar).hide(),this.filename=e("<div class='ajax-file-upload-filename'></div>").appendTo(this.statusbar),this.progressDiv=e("<div class='ajax-file-upload-progress'>").appendTo(this.statusbar).hide(),this.progressbar=e("<div class='ajax-file-upload-bar'></div>").appendTo(this.progressDiv),this.abort=e("<div>"+i.abortStr+"</div>").appendTo(this.statusbar).hide(),this.cancel=e("<div>"+i.cancelStr+"</div>").appendTo(this.statusbar).hide(),this.done=e("<div>"+i.doneStr+"</div>").appendTo(this.statusbar).hide(),this.download=e("<div>"+i.downloadStr+"</div>").appendTo(this.statusbar).hide(),this.del=e("<div>"+i.deleteStr+"</div>").appendTo(this.statusbar).hide(),this.abort.addClass("ajax-file-upload-red"),this.done.addClass("ajax-file-upload-green"),this.download.addClass("ajax-file-upload-green"),this.cancel.addClass("ajax-file-upload-red"),this.del.addClass("ajax-file-upload-red"),this}function h(t,i){var a=null;return(a=i.customProgressBar?new i.customProgressBar(t,i):new p(t,i)).abort.addClass(t.formGroup),a.abort.addClass(i.abortButtonClass),a.cancel.addClass(t.formGroup),a.cancel.addClass(i.cancelButtonClass),i.extraHTML&&(a.extraHTML=e("<div class='extrahtml'>"+i.extraHTML()+"</div>").insertAfter(a.filename)),"bottom"==i.uploadQueueOrder?e(t.container).append(a.statusbar):e(t.container).prepend(a.statusbar),a}function f(i,n,s,r,l,u){var p={cache:!1,contentType:!1,processData:!1,forceSync:!1,type:n.method,data:n.formData,formData:n.fileData,dataType:n.returnType,headers:n.headers,beforeSubmit:function(t,a,u){if(0!=n.onSubmit.call(this,r)){if(n.dynamicFormData){var p=o(n.dynamicFormData());if(p)for(var h=0;h<p.length;h++)p[h]&&(n.serialize&&null!=n.fileData?u.formData.append(p[h][0],p[h][1]):u.data[p[h][0]]=p[h][1])}return n.extraHTML&&e(s.extraHTML).find("input,select,textarea").each((function(t,i){n.serialize&&null!=n.fileData?u.formData.append(e(this).attr("name"),e(this).val()):u.data[e(this).attr("name")]=e(this).val()})),!0}return s.statusbar.append("<div class='"+n.errorClass+"'>"+n.uploadErrorStr+"</div>"),s.cancel.show(),i.remove(),s.cancel.click((function(){S.splice(S.indexOf(i),1),d(l,r),s.statusbar.remove(),n.onCancel.call(l,r,s),l.selectedFiles-=r.length,c(n,l)})),!1},beforeSend:function(e,i){for(var a in i.headers)e.setRequestHeader(a,i.headers[a]);s.progressDiv.show(),s.cancel.hide(),s.done.hide(),n.showAbort&&(s.abort.show(),s.abort.click((function(){d(l,r),e.abort(),l.selectedFiles-=r.length,n.onAbort.call(l,r,s)}))),t.formdata?s.progressbar.width("1%"):s.progressbar.width("5%")},uploadProgress:function(e,t,i,a){a>98&&(a=98);var o=a+"%";a>1&&s.progressbar.width(o),n.showProgress&&(s.progressbar.html(o),s.progressbar.css("text-align","center"))},success:function(t,a,o){if(s.cancel.remove(),b.pop(),"json"==n.returnType&&"object"==e.type(t)&&t.hasOwnProperty(n.customErrorKeyStr)){s.abort.hide();var u=t[n.customErrorKeyStr];return n.onError.call(this,r,200,u,s),n.showStatusAfterError?(s.progressDiv.hide(),s.statusbar.append("<span class='"+n.errorClass+"'>ERROR: "+u+"</span>")):(s.statusbar.hide(),s.statusbar.remove()),l.selectedFiles-=r.length,void i.remove()}l.responses.push(t),s.progressbar.width("100%"),n.showProgress&&(s.progressbar.html("100%"),s.progressbar.css("text-align","center")),s.abort.hide(),n.onSuccess.call(this,r,t,o,s),n.showStatusAfterSuccess?(n.showDone?(s.done.show(),s.done.click((function(){s.statusbar.hide("slow"),s.statusbar.remove()}))):s.done.hide(),n.showDelete?(s.del.show(),s.del.click((function(){d(l,r),s.statusbar.hide().remove(),n.deleteCallback&&n.deleteCallback.call(this,t,s),l.selectedFiles-=r.length,c(n,l)}))):s.del.hide()):(s.statusbar.hide("slow"),s.statusbar.remove()),n.showDownload&&(s.download.show(),s.download.click((function(){n.downloadCallback&&n.downloadCallback(t,s)}))),i.remove()},error:function(e,t,a){s.cancel.remove(),b.pop(),s.abort.hide(),"abort"==e.statusText?(s.statusbar.hide("slow").remove(),c(n,l)):(n.onError.call(this,r,t,a,s),n.showStatusAfterError?(s.progressDiv.hide(),s.statusbar.append("<span class='"+n.errorClass+"'>ERROR: "+a+"</span>")):(s.statusbar.hide(),s.statusbar.remove()),l.selectedFiles-=r.length),i.remove()}};n.showPreview&&null!=u&&"image"==u.type.toLowerCase().split("/").shift()&&function(e,t){if(e){t.show();var i=new FileReader;i.onload=function(e){t.attr("src",e.target.result)},i.readAsDataURL(e)}}(u,s.preview),n.autoSubmit?(i.ajaxForm(p),S.push(i),a()):(n.showCancel&&(s.cancel.show(),s.cancel.click((function(){S.splice(S.indexOf(i),1),d(l,r),i.remove(),s.statusbar.remove(),n.onCancel.call(l,r,s),l.selectedFiles-=r.length,c(n,l)}))),i.ajaxForm(p))}var g=e.extend({url:"",method:"POST",enctype:"multipart/form-data",returnType:null,allowDuplicates:!0,duplicateStrict:!1,allowedTypes:"*",acceptFiles:"*",fileName:"file",formData:!1,dynamicFormData:!1,maxFileSize:-1,maxFileCount:-1,multiple:!0,dragDrop:!0,autoSubmit:!0,showCancel:!0,showAbort:!0,showDone:!1,showDelete:!1,showError:!0,showStatusAfterSuccess:!0,showStatusAfterError:!0,showFileCounter:!0,fileCounterStyle:"). ",showFileSize:!0,showProgress:!1,nestedForms:!0,showDownload:!1,onLoad:function(e){},onSelect:function(e){return!0},onSubmit:function(e,t){},onSuccess:function(e,t,i,a){},onError:function(e,t,i,a){},onCancel:function(e,t){},onAbort:function(e,t){},downloadCallback:!1,deleteCallback:!1,afterUploadAll:!1,serialize:!0,sequential:!1,sequentialCount:2,customProgressBar:!1,abortButtonClass:"ajax-file-upload-abort",cancelButtonClass:"ajax-file-upload-cancel",dragDropContainerClass:"ajax-upload-dragdrop",dragDropHoverClass:"state-hover",errorClass:"ajax-file-upload-error",uploadButtonClass:"ajax-file-upload",dragDropStr:"<span><b>Drag &amp; Drop Files</b></span>",uploadStr:"Upload",abortStr:"Abort",cancelStr:"Cancel",deleteStr:"Delete",doneStr:"Done",multiDragErrorStr:"Multiple File Drag &amp; Drop is not allowed.",extErrorStr:"is not allowed. Allowed extensions: ",duplicateErrorStr:"is not allowed. File already exists.",sizeErrorStr:"is not allowed. Allowed Max size: ",uploadErrorStr:"Upload is not allowed",maxFileCountErrorStr:" is not allowed. Maximum allowed files are:",downloadStr:"Download",customErrorKeyStr:"jquery-upload-file-error",showQueueDiv:!1,statusBarWidth:400,dragdropWidth:400,showPreview:!1,previewHeight:"auto",previewWidth:"100%",extraHTML:!1,uploadQueueOrder:"top",headers:{}},i);this.fileCounter=1,this.selectedFiles=0;var m="ajax-file-upload-"+(new Date).getTime();this.formGroup=m,this.errorLog=e("<div></div>"),this.responses=[],this.existingFileNames=[],t.formdata||(g.dragDrop=!1),t.formdata&&1!==g.maxFileCount||(g.multiple=!1),e(this).html("");var v=this,_=e("<div>"+g.uploadStr+"</div>");e(_).addClass(g.uploadButtonClass),function t(){if(e.fn.ajaxForm){if(g.dragDrop){var i=e('<div class="'+g.dragDropContainerClass+'" style="vertical-align:top;"></div>').width(g.dragdropWidth);e(v).append(i),e(i).append(_),e(i).append(e(g.dragDropStr)),function(t,i,a){a.on("dragenter",(function(t){t.stopPropagation(),t.preventDefault(),e(this).addClass(i.dragDropHoverClass)})),a.on("dragover",(function(t){t.stopPropagation(),t.preventDefault();var a=e(this);a.hasClass(i.dragDropContainerClass)&&!a.hasClass(i.dragDropHoverClass)&&a.addClass(i.dragDropHoverClass)})),a.on("drop",(function(a){a.preventDefault(),e(this).removeClass(i.dragDropHoverClass),t.errorLog.html("");var n=a.originalEvent.dataTransfer.files;!i.multiple&&n.length>1?i.showError&&e("<div class='"+i.errorClass+"'>"+i.multiDragErrorStr+"</div>").appendTo(t.errorLog):0!=i.onSelect(n)&&s(i,t,n)})),a.on("dragleave",(function(t){e(this).removeClass(i.dragDropHoverClass)})),e(document).on("dragenter",(function(e){e.stopPropagation(),e.preventDefault()})),e(document).on("dragover",(function(t){t.stopPropagation(),t.preventDefault();var a=e(this);a.hasClass(i.dragDropContainerClass)||a.removeClass(i.dragDropHoverClass)})),e(document).on("drop",(function(t){t.stopPropagation(),t.preventDefault(),e(this).removeClass(i.dragDropHoverClass)}))}(v,g,i)}else e(v).append(_);e(v).append(v.errorLog),g.showQueueDiv?v.container=e("#"+g.showQueueDiv):v.container=e("<div class='ajax-file-upload-container'></div>").insertAfter(e(v)),g.onLoad.call(this,v),u(v,m,g,_)}else window.setTimeout(t,10)}(),this.startUpload=function(){e("form").each((function(t,i){e(this).hasClass(v.formGroup)&&S.push(e(this))})),S.length>=1&&a()},this.getFileCount=function(){return v.selectedFiles},this.stopUpload=function(){e("."+g.abortButtonClass).each((function(t,i){e(this).hasClass(v.formGroup)&&e(this).click()})),e("."+g.cancelButtonClass).each((function(t,i){e(this).hasClass(v.formGroup)&&e(this).click()}))},this.cancelAll=function(){e("."+g.cancelButtonClass).each((function(t,i){e(this).hasClass(v.formGroup)&&e(this).click()}))},this.update=function(t){g=e.extend(g,t),t.hasOwnProperty("url")&&e("form").each((function(i,a){e(this).attr("action",t.url)}))},this.enqueueFile=function(e){e instanceof File&&s(g,v,[e])},this.reset=function(e){v.fileCounter=1,v.selectedFiles=0,v.errorLog.html(""),0!=e&&v.container.html("")},this.remove=function(){v.container.html(""),e(v).remove()},this.createProgress=function(e,t,i){var a=new h(this,g);a.progressDiv.show(),a.progressbar.width("100%");var o="";return o=g.showFileCounter?v.fileCounter+g.fileCounterStyle+e:e,g.showFileSize&&(o+=" ("+n(i)+")"),a.filename.html(o),v.fileCounter++,v.selectedFiles++,g.showPreview&&(a.preview.attr("src",t),a.preview.show()),g.showDownload&&(a.download.show(),a.download.click((function(){g.downloadCallback&&g.downloadCallback.call(v,[e],a)}))),g.showDelete&&(a.del.show(),a.del.click((function(){a.statusbar.hide().remove();var t=[e];g.deleteCallback&&g.deleteCallback.call(this,t,a),v.selectedFiles-=1,c(g,v)}))),a},this.getResponses=function(){return this.responses};var S=[],b=[],w=!1;return this}}(jQuery);